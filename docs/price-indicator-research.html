﻿<!DOCTYPE html>
<html lang="en">
<head>

        <title>Price Indicator Research</title>
		
		<meta name="description" content="">
		<meta name="keywords" content="Linux，pelican，github，github pages，数据结构，算法，编程语言，开源软件，互联网，程序员找工作，移动互联网，生活时尚，情感交流，研究生生活，技术博客">
		
        <meta charset="utf-8" />


        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

        <link rel="stylesheet" type="text/css" href="/theme/gumby.css" />
        <link rel="stylesheet" type="text/css" href="/theme/style.css" />
        <link rel="stylesheet" type="text/css" href="/theme/pygment.css" />

        <script src="/theme/js/libs/modernizr-2.6.2.min.js"></script>






</head>

<body id="index" class="home">

<!-- Fork me on github -->
<a target="_blank" href="https://github.com/brillliantz">
	<img width="149px" height="149px" style="position: absolute; top: 0px; right: 0; border: 0;" src="/theme/icons/forkme.png" alt="Fork me on GitHub" />
</a>

    <div class="container">

        <div class="row">

          <header id="banner" class="body">
                  <h1><a href="">BrZ site <strong></strong></a></h1>
          </header><!-- /#banner -->

            <div id="navigation" class="navbar row">
              <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>
             
              <ul class="columns">
                <li><a href="/">Home</a></li>
					<!--<li><a href="/category/about-me.html">About Me</a></li>-->
					<li><a href="/category/about-me.html">About Me</a></li>
					<!--<li><a href="/category/private.html">Private</a></li>-->
					<li><a href="/category/private.html">Private</a></li>
					<!--<li class="active"><a href="/category/quanttrading.html">QuantTrading</a></li>-->
					<li><a href="/category/quanttrading.html">QuantTrading</a></li>
					<!--<li><a href="/category/test.html">test</a></li>-->
					<li><a href="/category/test.html">test</a></li>
				<li><a href="archives.html">Archives</a></li>
				<li><a href="random.html">Random Article</a></li>
				<!--
				
				-->
              </ul>
            </div>

<section id="content" class="body">

   <div class="row">
        <div class="eleven columns">


            <header>
              <h2 class="entry-title">
                <a href="/price-indicator-research.html" rel="bookmark"
                   title="Permalink to Price Indicator Research">Price Indicator Research</a></h2>
           
            </header>
            <footer class="post-info">
              <!--
			  <abbr class="published" title="2016-08-05T00:00:00+08:00">
                五 05 八月 2016
              </abbr>
              <address class="vcard author">
                By <a class="url fn" href="/author/bnliu.html">bnliu</a>
              </address>
			  -->
			  <address class="vcard author" style="font-style:italic;margin-bottom:-10px;">
				五 05 八月 2016
					&nbsp;&nbsp;Write By <a class="url fn" href="/author/bnliu.html">bnliu</a>
	
			  </address>
			  <hr />			  
            </footer><!-- /.post-info -->
            <div class="entry-content">
              <style type="text/css">/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
@-moz-document url-prefix() {
  div.inner_cell {
    overflow-x: hidden;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style>
<style type="text/css">
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="c1"># import matplotlib.finance as mf</span>
<span class="kn">from</span> <span class="nn">matplotlib.widgets</span> <span class="k">import</span> <span class="n">MultiCursor</span>
<span class="kn">import</span> <span class="nn">statsmodels.tsa.stattools</span> <span class="k">as</span> <span class="nn">stt</span>
<span class="c1"># import scipy.signal as sgn</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="c1"># from statsmodels.sandbox.regression.predstd import wls_prediction_std</span>
<span class="c1"># from matplotlib.mlab import PCA</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Style. 1</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_context</span><span class="p">(</span><span class="s1">'paper'</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">"darkgrid"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Style. 2</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_context</span><span class="p">(</span><span class="s1">'paper'</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">"dark"</span><span class="p">,</span> 
    <span class="n">rc</span><span class="o">=</span><span class="p">{</span><span class="s1">'axes.facecolor'</span><span class="p">:</span> <span class="s1">'black'</span><span class="p">,</span> 
    <span class="s1">'grid.color'</span><span class="p">:</span> <span class="s1">'red'</span><span class="p">,</span> 
    <span class="s1">'grid.linestyle'</span><span class="p">:</span> <span class="s1">'--'</span><span class="p">,</span> 
    <span class="s1">'figure.facecolor'</span><span class="p">:</span> <span class="s1">'grey'</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hft</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_hdf</span><span class="p">(</span><span class="s1">'/home/bingnan/HFT_SR_RM_MA_TA.hdf'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/lib/python2.7/dist-packages/tables/leaf.py:392: PerformanceWarning: The Leaf ``/HFT/block0_values`` is exceeding the maximum recommended rowsize (104857600 bytes);
be ready to see PyTables asking for *lots* of memory and possibly slow
I/O.  You may want to reduce the rowsize by trimming the value of
dimensions that are orthogonal (and preferably close) to the *main*
dimension of this leave.  Alternatively, in case you have specified a
very small/large chunksize, you may want to increase/decrease it.
  PerformanceWarning)
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ta</span> <span class="o">=</span> <span class="n">hft</span><span class="o">.</span><span class="n">minor_xs</span><span class="p">(</span><span class="s1">'TA0001'</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#------------------------------------------------</span>
<span class="sd">'''Some time length'''</span>
<span class="n">night_len</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="mi">3600</span><span class="o">*</span><span class="mf">2.5</span><span class="p">)</span>
<span class="n">mor_len</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="mi">3600</span><span class="o">*</span><span class="mf">2.25</span><span class="p">)</span>
<span class="n">aftn_len</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="mi">3600</span><span class="o">*</span><span class="mf">1.5</span><span class="p">)</span>
<span class="n">day_len</span> <span class="o">=</span> <span class="n">night_len</span> <span class="o">+</span> <span class="n">mor_len</span> <span class="o">+</span> <span class="n">aftn_len</span> <span class="o">+</span> <span class="mi">4</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [26]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ta</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,</span> <span class="p">[</span><span class="s1">'bidPrc_0'</span><span class="p">,</span> <span class="s1">'bidPrc_1'</span><span class="p">,</span> <span class="s1">'bidPrc_2'</span><span class="p">,</span> <span class="s1">'askPrc_3'</span><span class="p">,</span> <span class="s1">'bidPrc_4'</span><span class="p">,</span> 
          <span class="s1">'askPrc_1'</span><span class="p">,</span> <span class="s1">'askPrc_2'</span><span class="p">,</span> <span class="s1">'askPrc_3'</span><span class="p">,</span> <span class="s1">'askPrc_4'</span><span class="p">]]</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[26]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>bidPrc_0    False
bidPrc_1    False
bidPrc_2    False
askPrc_3    False
bidPrc_4    False
askPrc_1    False
askPrc_2    False
askPrc_3    False
askPrc_4    False
dtype: bool</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#-----------------------------------------------</span>
<span class="sd">'''add columns'''</span>
<span class="k">def</span> <span class="nf">AddCol</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="n">vol</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,</span> <span class="s1">'volume'</span><span class="p">]</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
    <span class="c1"># this addition is for the convenience of Log y scale plot</span>
    <span class="c1"># vol +=1</span>
    <span class="n">vol</span> <span class="o">=</span> <span class="n">vol</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">'vol_diff'</span><span class="p">)</span>

    <span class="n">openint</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,</span> <span class="s1">'openInterest'</span><span class="p">]</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
    <span class="c1"># this addition is for the convenience of Log y scale plot</span>
    <span class="c1"># openint += 1</span>
    <span class="n">openint</span> <span class="o">=</span> <span class="n">openint</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">'openInt_diff'</span><span class="p">)</span>

    <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,</span> <span class="s1">'askPrc_0'</span><span class="p">]</span> <span class="o">+</span> <span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,</span> <span class="s1">'bidPrc_0'</span><span class="p">])</span> <span class="o">/</span> <span class="mf">2.</span>
    <span class="n">mid</span> <span class="o">=</span> <span class="n">mid</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">'midPrc'</span><span class="p">)</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">vol</span><span class="p">,</span> <span class="n">openint</span><span class="p">,</span> <span class="n">mid</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">ret</span>


<span class="c1"># -------------------------------------------------</span>
<span class="k">def</span> <span class="nf">ForwardDiff</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    The reverse of pandas' function 'DataFrame.diff()'</span>
<span class="sd">    '''</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">periods</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">ret</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">periods</span><span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">n</span><span class="p">)</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">ret</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">ret</span>

<span class="k">def</span> <span class="nf">CutHighVar</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">200</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    Purpose: Cut a small period after opening in the morning and at night.</span>
<span class="sd">    Because this time range, the var of price is high, which harmd our model.</span>

<span class="sd">    df: pd.DataFrame or pd.Series. With datetime index</span>
<span class="sd">    length: int. the length you want to cut, counted in ticks. Cannot be larger than 240</span>
<span class="sd">    '''</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">df</span>
    <span class="n">bool_arr1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_or</span><span class="p">(</span><span class="n">ret</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">hour</span> <span class="o">==</span> <span class="mi">21</span><span class="p">,</span> <span class="n">ret</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">hour</span> <span class="o">==</span> <span class="mi">9</span><span class="p">)</span>

    <span class="n">bool_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="o">.</span><span class="n">reduce</span><span class="p">([</span><span class="n">bool_arr1</span><span class="p">,</span> 
        <span class="n">ret</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">minute</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> 
        <span class="n">ret</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">second</span> <span class="o"><=</span> <span class="nb">int</span><span class="p">(</span><span class="n">length</span><span class="o">//</span><span class="mi">4</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>

    <span class="n">ret</span> <span class="o">=</span> <span class="n">ret</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">logical_not</span><span class="p">(</span><span class="n">bool_arr</span><span class="p">)]</span>
    <span class="k">return</span> <span class="n">ret</span>

<span class="k">def</span> <span class="nf">CutTail</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">60</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    Purpose: Cut a small period before market close.</span>

<span class="sd">    df: pd.DataFrame or pd.Series. With datetime index</span>
<span class="sd">    length: int. the length you want to cut, counted in ticks. Cannot be larger than 240</span>
<span class="sd">    '''</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">df</span>
    <span class="n">last_boolean1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span>
                                          <span class="p">[</span><span class="n">ret</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">hour</span> <span class="o">==</span> <span class="mi">14</span><span class="p">,</span> 
                                           <span class="n">ret</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">minute</span> <span class="o">==</span> <span class="mi">59</span><span class="p">,</span> 
                                           <span class="n">ret</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">second</span> <span class="o">>=</span> <span class="mi">60</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="n">length</span><span class="o">//</span><span class="mi">4</span><span class="p">)])</span>  
    <span class="c1"># this is the last tick</span>
    <span class="n">last_boolean2</span> <span class="o">=</span> <span class="n">ret</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">hour</span> <span class="o">==</span> <span class="mi">15</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">ret</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">logical_not</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">logical_or</span><span class="p">(</span><span class="n">last_boolean1</span><span class="p">,</span> <span class="n">last_boolean2</span><span class="p">))]</span>
    <span class="k">return</span> <span class="n">ret</span>

<span class="k">def</span> <span class="nf">DayChangeNum</span><span class="p">(</span><span class="n">ser</span><span class="p">,</span> <span class="n">distance</span><span class="o">=</span><span class="mi">7</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    ser is price move series after process.</span>
<span class="sd">    distance counting in hours</span>
<span class="sd">    '''</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">hour</span>
    <span class="n">h_diff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
    <span class="n">h_diff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">h_diff</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">h_diff</span><span class="p">)</span> <span class="o">></span> <span class="n">distance</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">ret</span>

<span class="k">def</span> <span class="nf">NormPriceMove</span><span class="p">(</span><span class="n">ser</span><span class="p">,</span> <span class="n">daychgnum</span><span class="p">):</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">daychgnum</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">mysamp</span> <span class="o">=</span> <span class="n">ret</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">daychgnum</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span> <span class="n">daychgnum</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]]</span>
        <span class="c1">#print mysamp</span>
        <span class="n">mystd</span> <span class="o">=</span> <span class="n">mysamp</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
        <span class="nb">print</span> <span class="n">mystd</span>
        <span class="n">ret</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">daychgnum</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span> <span class="n">daychgnum</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]]</span> <span class="o">/=</span> <span class="n">mystd</span>
    <span class="k">return</span> <span class="n">ret</span>

<span class="k">def</span> <span class="nf">CuthlLimit</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">'all'</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="n">s1</span> <span class="o">=</span> <span class="s1">'bidQty_'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">depth</span><span class="p">)</span>
    <span class="n">s2</span> <span class="o">=</span> <span class="s1">'askQty_'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">depth</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">how</span> <span class="o">==</span> <span class="s1">'all'</span><span class="p">:</span>
        <span class="n">arr1</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,</span> <span class="n">s1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">arr2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">s2</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">bool_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_or</span><span class="p">(</span><span class="n">arr1</span><span class="p">,</span> <span class="n">arr2</span><span class="p">)</span>
        <span class="c1">#bool_arr = np.logical_or(df[s1] == 0, df[s2] == 0)</span>
    <span class="k">elif</span> <span class="n">how</span> <span class="o">==</span> <span class="s1">'bid'</span><span class="p">:</span>
        <span class="n">bool_arr</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">s1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">how</span> <span class="o">==</span> <span class="s1">'ask'</span><span class="p">:</span>
        <span class="n">bool_arr</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">s2</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span> <span class="s1">'ERROR!'</span>
    <span class="k">return</span> <span class="n">df</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">logical_not</span><span class="p">(</span><span class="n">bool_arr</span><span class="p">)]</span>

<span class="k">def</span> <span class="nf">GiveMePM</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">44</span><span class="p">,</span> <span class="n">lim</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span> <span class="n">cutdepth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">high_var_length</span><span class="o">=</span><span class="mi">200</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    Purpose: from original DataFrame calculate price move Series. Including CutTail and CutHighVar.</span>
<span class="sd">    df: the pinzhong DataFrame.</span>
<span class="sd">    n: forward_ticks</span>
<span class="sd">    lim: can be like (0, 20), counting in days, or an int array of index.</span>
<span class="sd">    norm: if True, normalize the price move using every day std.</span>
<span class="sd">    Return (last) price move series.</span>
<span class="sd">    '''</span>
    <span class="k">global</span> <span class="n">day_len</span>
    <span class="n">samp</span> <span class="o">=</span> <span class="n">CuthlLimit</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">'all'</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="n">cutdepth</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lim</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">samp</span> <span class="o">=</span> <span class="n">samp</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">day_len</span><span class="o">*</span><span class="n">lim</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="n">day_len</span><span class="o">*</span><span class="n">lim</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">'midPrc'</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">samp</span> <span class="o">=</span> <span class="n">samp</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">lim</span><span class="p">,</span> <span class="s1">'midPrc'</span><span class="p">]</span>
    <span class="c1">#print samp.index[0], samp.index[-1]</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">ForwardDiff</span><span class="p">(</span><span class="n">samp</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">CutTail</span><span class="p">(</span><span class="n">ret</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">CutHighVar</span><span class="p">(</span><span class="n">ret</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="n">high_var_length</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">norm</span><span class="p">:</span>
        <span class="n">ret_daychangenum</span> <span class="o">=</span> <span class="n">DayChangeNum</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">NormPriceMove</span><span class="p">(</span><span class="n">ret</span><span class="p">,</span> <span class="n">ret_daychangenum</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ret</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ta</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[9]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>Index([u'AveragePrice', u'LifeHigh', u'LifeLow', u'TotalAskLot',
       u'TotalBidLot', u'askPrc_0', u'askPrc_1', u'askPrc_2', u'askPrc_3',
       u'askPrc_4', u'askQty_0', u'askQty_1', u'askQty_2', u'askQty_3',
       u'askQty_4', u'bidPrc_0', u'bidPrc_1', u'bidPrc_2', u'bidPrc_3',
       u'bidPrc_4', u'bidQty_0', u'bidQty_1', u'bidQty_2', u'bidQty_3',
       u'bidQty_4', u'close', u'high', u'highLimit', u'last', u'low',
       u'lowLimit', u'open', u'openInterest', u'prevClose',
       u'prevOpenInterest', u'prevSettle', u'settle', u'volume'],
      dtype='object')</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ta</span> <span class="o">=</span> <span class="n">AddCol</span><span class="p">(</span><span class="n">ta</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>#------------------------------------------------   
'''training dataset and outsample dataset'''
ta_in = ta.ix[: day_len*20, :]
ta_out = ta.ix[day_len*20: day_len*25: , :]
forward_ticks = 45 
ta_in_pm = ForwardDiff(ta_in.ix[:, 'last'], forward_ticks)
ta_out_pm = ForwardDiff(ta_out.ix[:, 'last'], forward_ticks)

ta_in_pm = CutTail(ta_in_pm, forward_ticks)
ta_out_pm = CutTail(ta_out_pm, forward_ticks)

ta_in_pm = CutHighVar(ta_in_pm)
ta_out_pm = CutHighVar(ta_out_pm)

# ta_in_daychangenum = DayChangeNum(ta_in_pm)
# ta_out_daychangenum = DayChangeNum(ta_out_pm)
# ta_in_pm_norm = NormPriceMove(ta_in_pm, ta_in_daychangenum)
# ta_out_pm_norm = NormPriceMove(ta_out_pm, ta_out_daychangenum)
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [24]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">myols</span><span class="p">(</span><span class="n">ser</span><span class="p">,</span> <span class="n">pm</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    ser is indicator Series</span>
<span class="sd">    pm is Price move Series</span>
<span class="sd">    sm is satatsmodel module</span>
<span class="sd">    this function also automatically align index of df and pm</span>
<span class="sd">    '''</span>
    <span class="k">global</span> <span class="n">sm</span>
    <span class="n">ser</span> <span class="o">=</span> <span class="n">ser</span><span class="p">[</span><span class="n">pm</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
    <span class="n">ser</span> <span class="o">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">norm</span><span class="p">:</span>
        <span class="n">ser</span> <span class="o">=</span> <span class="p">(</span><span class="n">ser</span> <span class="o">-</span> <span class="n">ser</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span> <span class="o">/</span> <span class="n">ser</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">add_constant</span><span class="p">(</span><span class="n">ser</span><span class="p">)</span>
    <span class="n">Y</span> <span class="o">=</span> <span class="n">pm</span><span class="p">[</span><span class="n">X</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
    <span class="c1">#print Y[211000:211070]</span>
    <span class="c1">#print X[211000:211070]</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="n">X</span><span class="p">)</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">ret</span>

<span class="k">def</span> <span class="nf">Rsquare</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">yhat</span><span class="p">):</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="n">yhat</span><span class="p">)</span><span class="o">.</span><span class="n">var</span><span class="p">()</span> <span class="o">/</span> <span class="n">y</span><span class="o">.</span><span class="n">var</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">ret</span>
<span class="k">def</span> <span class="nf">Rsquare2</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">yhat</span><span class="p">):</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">((</span><span class="n">y</span><span class="o">-</span><span class="n">yhat</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">/</span> <span class="n">y</span><span class="o">.</span><span class="n">var</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">ret</span>
<span class="k">def</span> <span class="nf">PredictedRsquare</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">xnew</span><span class="p">,</span> <span class="n">pm</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    pm: outsample price move Series</span>
<span class="sd">    xnew: indicator Series (or DataFrame)</span>
<span class="sd">    res: insample regression results (comes from statsmodel's model.fit() )</span>
<span class="sd">    '''</span>
    <span class="c1"># first we need to align xnew with outsample</span>
    <span class="n">xnew</span> <span class="o">=</span> <span class="n">xnew</span><span class="p">[</span><span class="n">pm</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
    <span class="n">xnew</span> <span class="o">=</span> <span class="n">xnew</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">pm</span><span class="p">[</span><span class="n">xnew</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
    
    <span class="n">xnew</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">add_constant</span><span class="p">(</span><span class="n">xnew</span><span class="p">)</span>
    <span class="n">ynew</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">xnew</span><span class="p">)</span>
    <span class="n">rsq</span> <span class="o">=</span> <span class="n">Rsquare</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">ynew</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">rsq</span>
<span class="k">def</span> <span class="nf">PredictedRsquare2</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">xnew</span><span class="p">,</span> <span class="n">pm</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    pm: outsample price move Series</span>
<span class="sd">    xnew: indicator Series (or DataFrame)</span>
<span class="sd">    res: insample regression results (comes from statsmodel's model.fit() )</span>
<span class="sd">    '''</span>
    <span class="c1"># first we need to align xnew with outsample</span>
    <span class="n">xnew</span> <span class="o">=</span> <span class="n">xnew</span><span class="p">[</span><span class="n">pm</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
    <span class="n">xnew</span> <span class="o">=</span> <span class="n">xnew</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">pm</span><span class="p">[</span><span class="n">xnew</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
    
    <span class="n">xnew</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">add_constant</span><span class="p">(</span><span class="n">xnew</span><span class="p">)</span>
    <span class="n">ynew</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">xnew</span><span class="p">)</span>
    <span class="n">rsq</span> <span class="o">=</span> <span class="n">Rsquare2</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">ynew</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">rsq</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="===========================================================================">===========================================================================<a class="anchor-link" href="#===========================================================================">¶</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Advanced-Plot">Advanced Plot<a class="anchor-link" href="#Advanced-Plot">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [189]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> auto
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Using matplotlib backend: TkAgg
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [187]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">prc_total</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span> <span class="n">fs</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">)):</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">fs</span><span class="p">)</span>
    <span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">311</span><span class="p">)</span>
    
    <span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">t1</span><span class="p">:</span> <span class="n">t2</span><span class="p">,</span> <span class="s1">'last'</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">'#f5f112'</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'*'</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">t1</span><span class="p">:</span> <span class="n">t2</span><span class="p">,</span> <span class="s1">'askPrc_0'</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">'lightgreen'</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">t1</span><span class="p">:</span> <span class="n">t2</span><span class="p">,</span> <span class="s1">'bidPrc_0'</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">'lightcoral'</span><span class="p">)</span>

    <span class="n">ax3</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">312</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="n">ax1</span><span class="p">)</span>
    <span class="n">ax3</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">t1</span><span class="p">:</span> <span class="n">t2</span><span class="p">,</span> <span class="s1">'vol_diff'</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">'white'</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'*'</span><span class="p">)</span>
    
    <span class="n">ax4</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">313</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="n">ax1</span><span class="p">)</span>
    <span class="n">ax4</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">t1</span><span class="p">:</span> <span class="n">t2</span><span class="p">,</span> <span class="s1">'openInt_diff'</span><span class="p">],</span>
             <span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'*'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [191]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># --------------------------------------------</span>
<span class="sd">'''this is for macroly searching for patterns'''</span>
<span class="n">t11</span><span class="p">,</span> <span class="n">t22</span> <span class="o">=</span> <span class="s1">'2015-12-05 21:00:01'</span><span class="p">,</span> <span class="s1">'2015-12-08 15:00:00'</span>
<span class="c1"># samp = ta_10day.ix[pm_index, :]</span>
<span class="n">thefig</span> <span class="o">=</span> <span class="n">prc_total</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="n">t11</span><span class="p">,</span> <span class="n">t22</span><span class="p">,</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">multi</span> <span class="o">=</span> <span class="n">MultiCursor</span><span class="p">(</span><span class="n">thefig</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="n">thefig</span><span class="o">.</span><span class="n">axes</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'c'</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">thefig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [137]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vwap_indicator</span> <span class="o">=</span> <span class="n">VWAPIndicator</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [147]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ta</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">120</span><span class="p">:</span><span class="mi">190</span><span class="p">,</span> <span class="s1">'last'</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[147]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>2015-11-19 21:00:30.000    1827.0
2015-11-19 21:00:30.250    1827.0
2015-11-19 21:00:30.500    1827.0
2015-11-19 21:00:30.750    1827.0
2015-11-19 21:00:31.000    1827.0
2015-11-19 21:00:31.250    1828.0
2015-11-19 21:00:31.500    1828.0
2015-11-19 21:00:31.750    1827.0
2015-11-19 21:00:32.000    1828.0
2015-11-19 21:00:32.250    1827.0
2015-11-19 21:00:32.500    1828.0
2015-11-19 21:00:32.750    1827.0
2015-11-19 21:00:33.000    1827.0
2015-11-19 21:00:33.250    1828.0
2015-11-19 21:00:33.500    1828.0
2015-11-19 21:00:33.750    1827.0
2015-11-19 21:00:34.000    1828.0
2015-11-19 21:00:34.250    1828.0
2015-11-19 21:00:34.500    1828.0
2015-11-19 21:00:34.750    1828.0
2015-11-19 21:00:35.000    1829.0
2015-11-19 21:00:35.250    1828.0
2015-11-19 21:00:35.500    1828.0
2015-11-19 21:00:35.750    1828.0
2015-11-19 21:00:36.000    1828.0
2015-11-19 21:00:36.250    1829.0
2015-11-19 21:00:36.500    1829.0
2015-11-19 21:00:36.750    1829.0
2015-11-19 21:00:37.000    1829.0
2015-11-19 21:00:37.250    1829.0
                            ...  
2015-11-19 21:00:40.000    1829.0
2015-11-19 21:00:40.250    1830.0
2015-11-19 21:00:40.500    1830.0
2015-11-19 21:00:40.750    1829.0
2015-11-19 21:00:41.000    1829.0
2015-11-19 21:00:41.250    1830.0
2015-11-19 21:00:41.500    1829.0
2015-11-19 21:00:41.750    1830.0
2015-11-19 21:00:42.000    1830.0
2015-11-19 21:00:42.250    1830.0
2015-11-19 21:00:42.500    1830.0
2015-11-19 21:00:42.750    1829.0
2015-11-19 21:00:43.000    1830.0
2015-11-19 21:00:43.250    1830.0
2015-11-19 21:00:43.500    1829.0
2015-11-19 21:00:43.750    1830.0
2015-11-19 21:00:44.000    1830.0
2015-11-19 21:00:44.250    1829.0
2015-11-19 21:00:44.500    1829.0
2015-11-19 21:00:44.750    1829.0
2015-11-19 21:00:45.000    1829.0
2015-11-19 21:00:45.250    1829.0
2015-11-19 21:00:45.500    1829.0
2015-11-19 21:00:45.750    1829.0
2015-11-19 21:00:46.000    1829.0
2015-11-19 21:00:46.250    1830.0
2015-11-19 21:00:46.500    1829.0
2015-11-19 21:00:46.750    1829.0
2015-11-19 21:00:47.000    1829.0
2015-11-19 21:00:47.250    1829.0
Name: last, dtype: float64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [142]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ta_in_pm</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[142]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>2015-11-19 21:00:32.000    1.0
2015-11-19 21:00:32.250    2.0
2015-11-19 21:00:32.500    1.0
2015-11-19 21:00:32.750    2.0
2015-11-19 21:00:33.000    2.0
2015-11-19 21:00:33.250    1.0
2015-11-19 21:00:33.500    1.0
2015-11-19 21:00:33.750    3.0
2015-11-19 21:00:34.000    1.0
2015-11-19 21:00:34.250    1.0
2015-11-19 21:00:34.500    1.0
2015-11-19 21:00:34.750    1.0
2015-11-19 21:00:35.000    0.0
2015-11-19 21:00:35.250    1.0
2015-11-19 21:00:35.500    0.0
2015-11-19 21:00:35.750    0.0
2015-11-19 21:00:36.000    1.0
2015-11-19 21:00:36.250    0.0
2015-11-19 21:00:36.500    0.0
2015-11-19 21:00:36.750    0.0
2015-11-19 21:00:37.000    0.0
2015-11-19 21:00:37.250   -1.0
2015-11-19 21:00:37.500    1.0
2015-11-19 21:00:37.750    1.0
2015-11-19 21:00:38.000   -1.0
2015-11-19 21:00:38.250    0.0
2015-11-19 21:00:38.500    0.0
2015-11-19 21:00:38.750    0.0
2015-11-19 21:00:39.000   -1.0
2015-11-19 21:00:39.250    0.0
                          ... 
2015-12-17 14:59:39.500   -1.0
2015-12-17 14:59:39.750    0.0
2015-12-17 14:59:40.000   -1.0
2015-12-17 14:59:40.250    1.0
2015-12-17 14:59:40.500    0.0
2015-12-17 14:59:40.750    1.0
2015-12-17 14:59:41.000    0.0
2015-12-17 14:59:41.250    0.0
2015-12-17 14:59:41.500    0.0
2015-12-17 14:59:41.750    0.0
2015-12-17 14:59:42.000    0.0
2015-12-17 14:59:42.250    0.0
2015-12-17 14:59:42.500   -1.0
2015-12-17 14:59:42.750   -1.0
2015-12-17 14:59:43.000    0.0
2015-12-17 14:59:43.250    1.0
2015-12-17 14:59:43.500   -1.0
2015-12-17 14:59:43.750    0.0
2015-12-17 14:59:44.000    0.0
2015-12-17 14:59:44.250    1.0
2015-12-17 14:59:44.500    0.0
2015-12-17 14:59:44.750   -1.0
2015-12-17 14:59:45.000    0.0
2015-12-17 14:59:45.250    0.0
2015-12-17 14:59:45.500    0.0
2015-12-17 14:59:45.750    0.0
2015-12-17 14:59:46.000    1.0
2015-12-17 14:59:46.250    0.0
2015-12-17 14:59:46.500    0.0
2015-12-17 14:59:46.750    1.0
Name: last, dtype: float64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [12]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">VWAPIndicator4</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">mywindow</span><span class="o">=</span><span class="mi">50</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    use both openInt and volume to calculate 'real' new position.</span>
<span class="sd">    '''</span>
    <span class="c1">#TODO: ewm</span>
    <span class="n">last</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,</span> <span class="s1">'midPrc'</span><span class="p">]</span>
    <span class="n">new_position</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,</span> <span class="p">[</span><span class="s1">'vol_diff'</span><span class="p">,</span> <span class="s1">'openInt_diff'</span><span class="p">]]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">new_position</span> <span class="o">+=</span> <span class="o">.</span><span class="mi">1</span>
    <span class="n">last_multiply_newpos</span> <span class="o">=</span> <span class="n">last</span> <span class="o">*</span> <span class="n">new_position</span>

    <span class="n">multiply_roll</span> <span class="o">=</span> <span class="n">last_multiply_newpos</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="n">mywindow</span><span class="p">)</span>
    <span class="n">newpos_roll</span> <span class="o">=</span> <span class="n">new_position</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="n">mywindow</span><span class="p">)</span>
    
    <span class="n">vwap</span> <span class="o">=</span> <span class="n">multiply_roll</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">*</span><span class="mf">1.</span> <span class="o">/</span> <span class="n">newpos_roll</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="c1">#print vwap[:15]</span>
    <span class="c1">#print last[:15]</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">vwap</span> <span class="o">-</span> <span class="n">last</span>
    <span class="n">ret</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">'vwap_indicator2'</span>
    <span class="n">vwap</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">'vwaPrc2'</span>
    <span class="k">return</span> <span class="n">vwap</span><span class="p">,</span> <span class="n">ret</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">VWAPIndicator3</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">mywindow</span><span class="o">=</span><span class="mi">50</span><span class="p">):</span>
    <span class="c1">#TODO: ewm</span>
    <span class="n">last</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,</span> <span class="s1">'midPrc'</span><span class="p">]</span>
    <span class="c1">#print (last.isnull()).sum()</span>
    <span class="n">vol</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,</span> <span class="s1">'vol_diff'</span><span class="p">]</span>
    <span class="n">vol</span> <span class="o">+=</span> <span class="mf">1.</span>
    <span class="c1">#print (vol.isnull()).sum()</span>
    <span class="n">last_multiply_vol</span> <span class="o">=</span> <span class="n">last</span> <span class="o">*</span> <span class="n">vol</span>
    <span class="c1">#print (last_multiply_vol.isnull()).sum()</span>

    <span class="n">multiply_roll</span> <span class="o">=</span> <span class="n">last_multiply_vol</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="n">mywindow</span><span class="p">)</span>
    <span class="n">vol_roll</span> <span class="o">=</span> <span class="n">vol</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="n">mywindow</span><span class="p">)</span>
    
    <span class="n">vwap</span> <span class="o">=</span> <span class="n">multiply_roll</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">*</span><span class="mf">1.</span> <span class="o">/</span> <span class="n">vol_roll</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="c1">#print (vwap.isnull()).sum()</span>
    <span class="c1">#print vwap[:15]</span>
    <span class="c1">#print last[:15]</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">vwap</span> <span class="o">-</span> <span class="n">last</span>
    <span class="n">ret</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">'vwap_indicator'</span>
    <span class="n">vwap</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">'vwaPrc'</span>
    <span class="k">return</span> <span class="n">vwap</span><span class="p">,</span> <span class="n">ret</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="TEST!!!">TEST!!!<a class="anchor-link" href="#TEST!!!">¶</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [14]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">GiveMeIndex</span><span class="p">(</span><span class="n">arri</span><span class="p">,</span> <span class="n">arro</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    Generate integer index</span>
<span class="sd">    arr is a two dim ndarray, with each element being a time range(counting in days).</span>
<span class="sd">    '''</span>
    <span class="k">global</span> <span class="n">day_len</span>
    <span class="n">index_in</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">arri</span><span class="p">:</span>
        <span class="n">index_in</span> <span class="o">=</span> <span class="n">index_in</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">day_len</span> <span class="o">*</span> <span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">day_len</span> <span class="o">*</span> <span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
    <span class="n">index_out</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">arro</span><span class="p">:</span>
        <span class="n">index_out</span> <span class="o">=</span> <span class="n">index_out</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">day_len</span> <span class="o">*</span> <span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">day_len</span> <span class="o">*</span> <span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
    <span class="k">return</span> <span class="n">index_in</span><span class="p">,</span> <span class="n">index_out</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">insample_index0</span><span class="p">,</span> <span class="n">outsample_index0</span> <span class="o">=</span> <span class="n">GiveMeIndex</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">14</span><span class="p">,</span> <span class="mi">16</span><span class="p">],</span> <span class="p">[</span><span class="mi">18</span><span class="p">,</span><span class="mi">20</span><span class="p">],</span> <span class="p">[</span><span class="mi">22</span><span class="p">,</span> <span class="mi">24</span><span class="p">],</span> <span class="p">[</span><span class="mi">26</span><span class="p">,</span><span class="mi">28</span><span class="p">]],</span>
                                               <span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span> <span class="p">[</span><span class="mi">16</span><span class="p">,</span> <span class="mi">18</span><span class="p">],</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span><span class="mi">22</span><span class="p">],</span> <span class="p">[</span><span class="mi">24</span><span class="p">,</span> <span class="mi">26</span><span class="p">],</span> <span class="p">[</span><span class="mi">28</span><span class="p">,</span><span class="mi">30</span><span class="p">]])</span>
<span class="n">insample_index1</span><span class="p">,</span> <span class="n">outsample_index1</span> <span class="o">=</span> <span class="n">GiveMeIndex</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">]])</span>
<span class="n">insample_index2</span><span class="p">,</span> <span class="n">outsample_index2</span> <span class="o">=</span> <span class="n">GiveMeIndex</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">25</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">]])</span>
<span class="n">insample_index3</span><span class="p">,</span> <span class="n">outsample_index3</span> <span class="o">=</span> <span class="n">GiveMeIndex</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">25</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]])</span>
<span class="n">insample_index4</span><span class="p">,</span> <span class="n">outsample_index4</span> <span class="o">=</span> <span class="n">GiveMeIndex</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span> <span class="mi">25</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">]])</span>
<span class="n">insample_index5</span><span class="p">,</span> <span class="n">outsample_index5</span> <span class="o">=</span> <span class="n">GiveMeIndex</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">13</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">13</span><span class="p">,</span> <span class="mi">25</span><span class="p">]])</span>
<span class="n">insample_index6</span><span class="p">,</span> <span class="n">outsample_index6</span> <span class="o">=</span> <span class="n">GiveMeIndex</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">18</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">18</span><span class="p">,</span> <span class="mi">25</span><span class="p">]])</span>
<span class="c1"># different_io_index = ((insample_index0, outsample_index0), (insample_index1, outsample_index1), </span>
<span class="c1">#                       (insample_index2, outsample_index2), (insample_index3, outsample_index3),</span>
<span class="c1">#                       (insample_index4, outsample_index4), (insample_index5, outsample_index5))</span>
<span class="n">insample_index00</span><span class="p">,</span> <span class="n">outsample_index00</span> <span class="o">=</span> <span class="n">GiveMeIndex</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">]],</span>
                                               <span class="p">[[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">30</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [26]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#-------------------------------------------------------------------------------</span>
<span class="sd">'''</span>
<span class="sd">Automatically generate in and out sample data, then calculate Qty_indicator,</span>
<span class="sd">then regression under different parameters</span>
<span class="sd">'''</span>
<span class="k">for</span> <span class="n">mywind</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">240</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">2400</span><span class="p">]:</span>
    <span class="n">vwap</span><span class="p">,</span> <span class="n">vwap_indicator</span> <span class="o">=</span> <span class="n">VWAPIndicator4</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="n">mywind</span><span class="p">)</span>
    <span class="c1">#print pd.concat([ta[['last','vol_diff']],vwap,vwap_indicator],axis=1)</span>
    <span class="k">for</span> <span class="n">forward_ticks</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">44</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">ta_in_pm</span> <span class="o">=</span> <span class="n">GiveMePM</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">forward_ticks</span><span class="p">,</span> <span class="n">lim</span><span class="o">=</span><span class="n">insample_index1</span><span class="p">)</span>
        <span class="c1">#print pd.concat([ta_in_pm,ta['last']],axis=1).dropna()</span>
        <span class="n">ta_out_pm</span> <span class="o">=</span> <span class="n">GiveMePM</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">forward_ticks</span><span class="p">,</span> <span class="n">lim</span><span class="o">=</span><span class="n">outsample_index1</span><span class="p">)</span>
        <span class="c1">#df = pd.concat([vwap_indicator, ta_in_pm],axis=1)</span>
        <span class="c1">#df.dropna(inplace=True)</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">myols</span><span class="p">(</span><span class="n">vwap_indicator</span><span class="p">,</span> <span class="n">ta_in_pm</span><span class="p">)</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s1">'</span><span class="se">\n\n\n</span><span class="s1">------------------------------X length: </span><span class="si">%d</span><span class="s1">, Y length: </span><span class="si">%d</span><span class="s1"> ------------------------------'</span> 
               <span class="o">%</span><span class="p">(</span><span class="n">mywind</span><span class="p">,</span> <span class="n">forward_ticks</span><span class="p">))</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s1">'In sample time range: </span><span class="si">%s</span><span class="s1"> to </span><span class="si">%s</span><span class="s1"> </span><span class="se">\n</span><span class="s1">Out sample time range: </span><span class="si">%s</span><span class="s1"> to </span><span class="si">%s</span><span class="s1">.</span><span class="se">\n</span><span class="s1">'</span> <span class="o">%</span><span class="p">(</span><span class="n">ta_in_pm</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> 
                                                                                       <span class="n">ta_in_pm</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
                                                                                       <span class="n">ta_out_pm</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                                                                       <span class="n">ta_out_pm</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
        <span class="nb">print</span> <span class="n">res</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
        <span class="c1">#print ta_in_pm.describe()</span>
        <span class="c1">#print ta_out_pm.describe()</span>
        <span class="nb">print</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">[OutSample R_SQUARE: </span><span class="si">%f</span><span class="s1">]'</span> <span class="o">%</span> <span class="n">PredictedRsquare</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">vwap_indicator</span><span class="p">,</span> <span class="n">ta_out_pm</span><span class="p">)</span>
        <span class="nb">print</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">[OutSample R_SQUARE: </span><span class="si">%f</span><span class="s1">]'</span> <span class="o">%</span> <span class="n">PredictedRsquare2</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">vwap_indicator</span><span class="p">,</span> <span class="n">ta_out_pm</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>


------------------------------X length: 10, Y length: 44 ------------------------------
In sample time range: 2015-11-19 21:00:50 to 2015-12-17 21:15:53.250000 
Out sample time range: 2015-12-17 21:16:04.500000 to 2015-12-24 21:15:53.250000.

                            OLS Regression Results                            
==============================================================================
Dep. Variable:                 midPrc   R-squared:                       0.000
Model:                            OLS   Adj. R-squared:                  0.000
Method:                 Least Squares   F-statistic:                     3.764
Date:                Sun, 17 Jul 2016   Prob (F-statistic):             0.0524
Time:                        04:26:26   Log-Likelihood:            -3.1137e+06
No. Observations:             1790936   AIC:                         6.227e+06
Df Residuals:                 1790934   BIC:                         6.227e+06
Df Model:                           1                                         
===================================================================================
                      coef    std err          t      P>|t|      [95.0% Conf. Int.]
-----------------------------------------------------------------------------------
const               0.0037      0.001      3.634      0.000         0.002     0.006
vwap_indicator2     0.0002      0.000      1.940      0.052     -2.04e-06     0.000
==============================================================================
Omnibus:                   644865.163   Durbin-Watson:                   0.083
Prob(Omnibus):                  0.000   Jarque-Bera (JB):        134740837.563
Skew:                           0.553   Prob(JB):                         0.00
Kurtosis:                      45.478   Cond. No.                         10.0
==============================================================================

[OutSample R_SQUARE: 0.000012]

[OutSample R_SQUARE: -0.000010]



------------------------------X length: 30, Y length: 44 ------------------------------
In sample time range: 2015-11-19 21:00:50 to 2015-12-17 21:15:53.250000 
Out sample time range: 2015-12-17 21:16:04.500000 to 2015-12-24 21:15:53.250000.

                            OLS Regression Results                            
==============================================================================
Dep. Variable:                 midPrc   R-squared:                       0.000
Model:                            OLS   Adj. R-squared:                 -0.000
Method:                 Least Squares   F-statistic:                   0.08203
Date:                Sun, 17 Jul 2016   Prob (F-statistic):              0.775
Time:                        04:26:31   Log-Likelihood:            -3.1137e+06
No. Observations:             1790936   AIC:                         6.227e+06
Df Residuals:                 1790934   BIC:                         6.227e+06
Df Model:                           1                                         
===================================================================================
                      coef    std err          t      P>|t|      [95.0% Conf. Int.]
-----------------------------------------------------------------------------------
const               0.0037      0.001      3.624      0.000         0.002     0.006
vwap_indicator2  1.726e-05   6.03e-05      0.286      0.775        -0.000     0.000
==============================================================================
Omnibus:                   644857.802   Durbin-Watson:                   0.084
Prob(Omnibus):                  0.000   Jarque-Bera (JB):        134737775.005
Skew:                           0.553   Prob(JB):                         0.00
Kurtosis:                      45.478   Cond. No.                         17.1
==============================================================================

[OutSample R_SQUARE: 0.000002]

[OutSample R_SQUARE: -0.000020]



------------------------------X length: 100, Y length: 44 ------------------------------
In sample time range: 2015-11-19 21:00:50 to 2015-12-17 21:15:53.250000 
Out sample time range: 2015-12-17 21:16:04.500000 to 2015-12-24 21:15:53.250000.

                            OLS Regression Results                            
==============================================================================
Dep. Variable:                 midPrc   R-squared:                       0.000
Model:                            OLS   Adj. R-squared:                  0.000
Method:                 Least Squares   F-statistic:                     32.92
Date:                Sun, 17 Jul 2016   Prob (F-statistic):           9.62e-09
Time:                        04:26:36   Log-Likelihood:            -3.1137e+06
No. Observations:             1790936   AIC:                         6.227e+06
Df Residuals:                 1790934   BIC:                         6.227e+06
Df Model:                           1                                         
===================================================================================
                      coef    std err          t      P>|t|      [95.0% Conf. Int.]
-----------------------------------------------------------------------------------
const               0.0036      0.001      3.510      0.000         0.002     0.006
vwap_indicator2    -0.0002   4.17e-05     -5.737      0.000        -0.000    -0.000
==============================================================================
Omnibus:                   644789.252   Durbin-Watson:                   0.084
Prob(Omnibus):                  0.000   Jarque-Bera (JB):        134724711.407
Skew:                           0.553   Prob(JB):                         0.00
Kurtosis:                      45.476   Cond. No.                         24.7
==============================================================================

[OutSample R_SQUARE: -0.000047]

[OutSample R_SQUARE: -0.000070]



------------------------------X length: 240, Y length: 44 ------------------------------
In sample time range: 2015-11-19 21:00:50 to 2015-12-17 21:15:53.250000 
Out sample time range: 2015-12-17 21:16:04.500000 to 2015-12-24 21:15:53.250000.

                            OLS Regression Results                            
==============================================================================
Dep. Variable:                 midPrc   R-squared:                       0.000
Model:                            OLS   Adj. R-squared:                  0.000
Method:                 Least Squares   F-statistic:                     36.77
Date:                Sun, 17 Jul 2016   Prob (F-statistic):           1.33e-09
Time:                        04:26:41   Log-Likelihood:            -3.1133e+06
No. Observations:             1790896   AIC:                         6.227e+06
Df Residuals:                 1790894   BIC:                         6.227e+06
Df Model:                           1                                         
===================================================================================
                      coef    std err          t      P>|t|      [95.0% Conf. Int.]
-----------------------------------------------------------------------------------
const               0.0037      0.001      3.595      0.000         0.002     0.006
vwap_indicator2    -0.0002   3.44e-05     -6.064      0.000        -0.000    -0.000
==============================================================================
Omnibus:                   645479.661   Durbin-Watson:                   0.084
Prob(Omnibus):                  0.000   Jarque-Bera (JB):        134872204.819
Skew:                           0.555   Prob(JB):                         0.00
Kurtosis:                      45.499   Cond. No.                         29.9
==============================================================================

[OutSample R_SQUARE: -0.000047]

[OutSample R_SQUARE: -0.000069]



------------------------------X length: 1000, Y length: 44 ------------------------------
In sample time range: 2015-11-19 21:00:50 to 2015-12-17 21:15:53.250000 
Out sample time range: 2015-12-17 21:16:04.500000 to 2015-12-24 21:15:53.250000.

                            OLS Regression Results                            
==============================================================================
Dep. Variable:                 midPrc   R-squared:                       0.000
Model:                            OLS   Adj. R-squared:                  0.000
Method:                 Least Squares   F-statistic:                     68.01
Date:                Sun, 17 Jul 2016   Prob (F-statistic):           1.63e-16
Time:                        04:26:47   Log-Likelihood:            -3.1109e+06
No. Observations:             1790136   AIC:                         6.222e+06
Df Residuals:                 1790134   BIC:                         6.222e+06
Df Model:                           1                                         
===================================================================================
                      coef    std err          t      P>|t|      [95.0% Conf. Int.]
-----------------------------------------------------------------------------------
const               0.0037      0.001      3.597      0.000         0.002     0.006
vwap_indicator2    -0.0003   3.32e-05     -8.247      0.000        -0.000    -0.000
==============================================================================
Omnibus:                   646241.117   Durbin-Watson:                   0.084
Prob(Omnibus):                  0.000   Jarque-Bera (JB):        135452805.439
Skew:                           0.558   Prob(JB):                         0.00
Kurtosis:                      45.600   Cond. No.                         31.0
==============================================================================

[OutSample R_SQUARE: -0.000080]

[OutSample R_SQUARE: -0.000101]



------------------------------X length: 2400, Y length: 44 ------------------------------
In sample time range: 2015-11-19 21:00:50 to 2015-12-17 21:15:53.250000 
Out sample time range: 2015-12-17 21:16:04.500000 to 2015-12-24 21:15:53.250000.

                            OLS Regression Results                            
==============================================================================
Dep. Variable:                 midPrc   R-squared:                       0.000
Model:                            OLS   Adj. R-squared:                  0.000
Method:                 Least Squares   F-statistic:                     21.98
Date:                Sun, 17 Jul 2016   Prob (F-statistic):           2.76e-06
Time:                        04:26:52   Log-Likelihood:            -3.1083e+06
No. Observations:             1788736   AIC:                         6.217e+06
Df Residuals:                 1788734   BIC:                         6.217e+06
Df Model:                           1                                         
===================================================================================
                      coef    std err          t      P>|t|      [95.0% Conf. Int.]
-----------------------------------------------------------------------------------
const               0.0038      0.001      3.668      0.000         0.002     0.006
vwap_indicator2    -0.0002   3.52e-05     -4.688      0.000        -0.000 -9.61e-05
==============================================================================
Omnibus:                   646138.873   Durbin-Watson:                   0.084
Prob(Omnibus):                  0.000   Jarque-Bera (JB):        135685503.581
Skew:                           0.559   Prob(JB):                         0.00
Kurtosis:                      45.653   Cond. No.                         29.2
==============================================================================

[OutSample R_SQUARE: -0.000052]

[OutSample R_SQUARE: -0.000073]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [66]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">TEMP1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">ta1</span><span class="p">,</span><span class="n">vwap_indicator</span><span class="p">,</span><span class="n">vwap</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [69]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vwap</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s1">'2015-11-23 23:13:40'</span><span class="p">:</span> <span class="s1">'2015-11-23 23:13:50'</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[69]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>2015-11-23 23:13:40.000    4416.0
2015-11-23 23:13:40.250    4416.0
2015-11-23 23:13:40.500    4416.0
2015-11-23 23:13:40.750    4416.0
2015-11-23 23:13:41.000    4416.0
2015-11-23 23:13:41.250    4416.0
2015-11-23 23:13:41.500    4416.0
2015-11-23 23:13:41.750    4416.0
2015-11-23 23:13:42.000    4416.0
2015-11-23 23:13:42.250    4416.0
2015-11-23 23:13:42.500    4416.0
2015-11-23 23:13:42.750    4416.0
2015-11-23 23:13:43.000    4416.0
2015-11-23 23:13:43.250    4416.0
2015-11-23 23:13:43.500    4418.0
2015-11-23 23:13:43.750    4418.0
2015-11-23 23:13:44.000    4418.0
2015-11-23 23:13:44.250    4418.0
2015-11-23 23:13:44.500    4418.0
2015-11-23 23:13:44.750    4418.0
2015-11-23 23:13:45.000    4418.0
2015-11-23 23:13:45.250    4418.0
2015-11-23 23:13:45.500    4416.0
2015-11-23 23:13:45.750    4416.0
2015-11-23 23:13:46.000    4418.0
2015-11-23 23:13:46.250    4416.0
2015-11-23 23:13:46.500    4418.0
2015-11-23 23:13:46.750    4418.0
2015-11-23 23:13:47.000    4418.0
2015-11-23 23:13:47.250    4418.0
2015-11-23 23:13:47.500    4418.0
2015-11-23 23:13:47.750    4418.0
2015-11-23 23:13:48.000    4418.0
2015-11-23 23:13:48.250    4418.0
2015-11-23 23:13:48.500    4418.0
2015-11-23 23:13:48.750    4418.0
2015-11-23 23:13:49.000    4418.0
2015-11-23 23:13:49.250    4418.0
2015-11-23 23:13:49.500    4418.0
2015-11-23 23:13:49.750    4420.0
2015-11-23 23:13:50.000    4420.0
2015-11-23 23:13:50.250    4418.0
2015-11-23 23:13:50.500    4418.0
2015-11-23 23:13:50.750    4418.0
Name: vwaPrc, dtype: float64</pre>
</div>
</div>
<div class="output_area"><div class="prompt output_prompt">Out[69]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>2015-11-23 23:13:40.000    4416.0
2015-11-23 23:13:40.250    4416.0
2015-11-23 23:13:40.500    4416.0
2015-11-23 23:13:40.750    4416.0
2015-11-23 23:13:41.000    4416.0
2015-11-23 23:13:41.250    4416.0
2015-11-23 23:13:41.500    4416.0
2015-11-23 23:13:41.750    4416.0
2015-11-23 23:13:42.000    4416.0
2015-11-23 23:13:42.250    4416.0
2015-11-23 23:13:42.500    4416.0
2015-11-23 23:13:42.750    4416.0
2015-11-23 23:13:43.000    4416.0
2015-11-23 23:13:43.250    4416.0
2015-11-23 23:13:43.500    4418.0
2015-11-23 23:13:43.750    4418.0
2015-11-23 23:13:44.000    4418.0
2015-11-23 23:13:44.250    4418.0
2015-11-23 23:13:44.500    4418.0
2015-11-23 23:13:44.750    4418.0
2015-11-23 23:13:45.000    4418.0
2015-11-23 23:13:45.250    4418.0
2015-11-23 23:13:45.500    4416.0
2015-11-23 23:13:45.750    4416.0
2015-11-23 23:13:46.000    4418.0
2015-11-23 23:13:46.250    4416.0
2015-11-23 23:13:46.500    4418.0
2015-11-23 23:13:46.750    4418.0
2015-11-23 23:13:47.000    4418.0
2015-11-23 23:13:47.250    4418.0
2015-11-23 23:13:47.500    4418.0
2015-11-23 23:13:47.750    4418.0
2015-11-23 23:13:48.000    4418.0
2015-11-23 23:13:48.250    4418.0
2015-11-23 23:13:48.500    4418.0
2015-11-23 23:13:48.750    4418.0
2015-11-23 23:13:49.000    4418.0
2015-11-23 23:13:49.250    4418.0
2015-11-23 23:13:49.500    4418.0
2015-11-23 23:13:49.750    4420.0
2015-11-23 23:13:50.000    4420.0
2015-11-23 23:13:50.250    4418.0
2015-11-23 23:13:50.500    4418.0
2015-11-23 23:13:50.750    4418.0
Name: vwaPrc, dtype: float64</pre>
</div>
</div>
<div class="output_area"><div class="prompt output_prompt">Out[69]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>2015-11-23 23:13:40.000    4416.0
2015-11-23 23:13:40.250    4416.0
2015-11-23 23:13:40.500    4416.0
2015-11-23 23:13:40.750    4416.0
2015-11-23 23:13:41.000    4416.0
2015-11-23 23:13:41.250    4416.0
2015-11-23 23:13:41.500    4416.0
2015-11-23 23:13:41.750    4416.0
2015-11-23 23:13:42.000    4416.0
2015-11-23 23:13:42.250    4416.0
2015-11-23 23:13:42.500    4416.0
2015-11-23 23:13:42.750    4416.0
2015-11-23 23:13:43.000    4416.0
2015-11-23 23:13:43.250    4416.0
2015-11-23 23:13:43.500    4418.0
2015-11-23 23:13:43.750    4418.0
2015-11-23 23:13:44.000    4418.0
2015-11-23 23:13:44.250    4418.0
2015-11-23 23:13:44.500    4418.0
2015-11-23 23:13:44.750    4418.0
2015-11-23 23:13:45.000    4418.0
2015-11-23 23:13:45.250    4418.0
2015-11-23 23:13:45.500    4416.0
2015-11-23 23:13:45.750    4416.0
2015-11-23 23:13:46.000    4418.0
2015-11-23 23:13:46.250    4416.0
2015-11-23 23:13:46.500    4418.0
2015-11-23 23:13:46.750    4418.0
2015-11-23 23:13:47.000    4418.0
2015-11-23 23:13:47.250    4418.0
2015-11-23 23:13:47.500    4418.0
2015-11-23 23:13:47.750    4418.0
2015-11-23 23:13:48.000    4418.0
2015-11-23 23:13:48.250    4418.0
2015-11-23 23:13:48.500    4418.0
2015-11-23 23:13:48.750    4418.0
2015-11-23 23:13:49.000    4418.0
2015-11-23 23:13:49.250    4418.0
2015-11-23 23:13:49.500    4418.0
2015-11-23 23:13:49.750    4420.0
2015-11-23 23:13:50.000    4420.0
2015-11-23 23:13:50.250    4418.0
2015-11-23 23:13:50.500    4418.0
2015-11-23 23:13:50.750    4418.0
Name: vwaPrc, dtype: float64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [71]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">TEMP1</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s1">'2015-11-23 23:13:40'</span><span class="p">:</span> <span class="s1">'2015-11-23 23:13:50'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'last'</span><span class="p">,</span> <span class="s1">'volume'</span><span class="p">,</span> <span class="s1">'vol_diff'</span><span class="p">,</span> <span class="s1">'vwap'</span><span class="p">,</span> <span class="s1">'vwap_indicator'</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[71]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div style="max-width:1500px;overflow:auto;">
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>last</th>
<th>volume</th>
<th>vol_diff</th>
<th>vwap</th>
<th>vwap_indicator</th>
</tr>
</thead>
<tbody>
<tr>
<th>2015-11-23 23:13:40.000</th>
<td>4416.0</td>
<td>559906.0</td>
<td>4.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:40.250</th>
<td>4416.0</td>
<td>559914.0</td>
<td>8.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:40.500</th>
<td>4416.0</td>
<td>559914.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:40.750</th>
<td>4416.0</td>
<td>559914.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:41.000</th>
<td>4416.0</td>
<td>559914.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:41.250</th>
<td>4416.0</td>
<td>559914.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:41.500</th>
<td>4416.0</td>
<td>559914.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:41.750</th>
<td>4416.0</td>
<td>559914.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:42.000</th>
<td>4416.0</td>
<td>559914.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:42.250</th>
<td>4416.0</td>
<td>559914.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:42.500</th>
<td>4416.0</td>
<td>559916.0</td>
<td>2.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:42.750</th>
<td>4416.0</td>
<td>559916.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:43.000</th>
<td>4416.0</td>
<td>559916.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:43.250</th>
<td>4416.0</td>
<td>559916.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:43.500</th>
<td>4418.0</td>
<td>559918.0</td>
<td>2.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:43.750</th>
<td>4418.0</td>
<td>559918.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:44.000</th>
<td>4418.0</td>
<td>559924.0</td>
<td>6.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:44.250</th>
<td>4418.0</td>
<td>559924.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:44.500</th>
<td>4418.0</td>
<td>559924.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:44.750</th>
<td>4418.0</td>
<td>559924.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:45.000</th>
<td>4418.0</td>
<td>559924.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:45.250</th>
<td>4418.0</td>
<td>559924.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:45.500</th>
<td>4416.0</td>
<td>559934.0</td>
<td>10.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:45.750</th>
<td>4416.0</td>
<td>559934.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:46.000</th>
<td>4418.0</td>
<td>559940.0</td>
<td>6.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:46.250</th>
<td>4416.0</td>
<td>559942.0</td>
<td>2.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:46.500</th>
<td>4418.0</td>
<td>560542.0</td>
<td>600.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:46.750</th>
<td>4418.0</td>
<td>560542.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:47.000</th>
<td>4418.0</td>
<td>560542.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:47.250</th>
<td>4418.0</td>
<td>560576.0</td>
<td>34.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:47.500</th>
<td>4418.0</td>
<td>560594.0</td>
<td>18.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:47.750</th>
<td>4418.0</td>
<td>560610.0</td>
<td>16.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:48.000</th>
<td>4418.0</td>
<td>560610.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:48.250</th>
<td>4418.0</td>
<td>560610.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:48.500</th>
<td>4418.0</td>
<td>560610.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:48.750</th>
<td>4418.0</td>
<td>560612.0</td>
<td>2.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:49.000</th>
<td>4418.0</td>
<td>560612.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:49.250</th>
<td>4418.0</td>
<td>560612.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:49.500</th>
<td>4418.0</td>
<td>560612.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:49.750</th>
<td>4420.0</td>
<td>560692.0</td>
<td>80.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:50.000</th>
<td>4420.0</td>
<td>560736.0</td>
<td>44.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:50.250</th>
<td>4418.0</td>
<td>560738.0</td>
<td>2.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:50.500</th>
<td>4418.0</td>
<td>560738.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:50.750</th>
<td>4418.0</td>
<td>560738.0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [50]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ta1</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s1">'2015-11-23 23:13:40'</span><span class="p">:</span> <span class="s1">'2015-11-23 23:13:50'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'last'</span><span class="p">,</span> <span class="s1">'volume'</span><span class="p">,</span> <span class="s1">'vol_diff'</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[50]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div style="max-width:1500px;overflow:auto;">
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>last</th>
<th>volume</th>
<th>vol_diff</th>
</tr>
</thead>
<tbody>
<tr>
<th>2015-11-23 23:13:40.000</th>
<td>4416.0</td>
<td>559906.0</td>
<td>4.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:40.250</th>
<td>4416.0</td>
<td>559914.0</td>
<td>8.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:40.500</th>
<td>4416.0</td>
<td>559914.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:40.750</th>
<td>4416.0</td>
<td>559914.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:41.000</th>
<td>4416.0</td>
<td>559914.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:41.250</th>
<td>4416.0</td>
<td>559914.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:41.500</th>
<td>4416.0</td>
<td>559914.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:41.750</th>
<td>4416.0</td>
<td>559914.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:42.000</th>
<td>4416.0</td>
<td>559914.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:42.250</th>
<td>4416.0</td>
<td>559914.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:42.500</th>
<td>4416.0</td>
<td>559916.0</td>
<td>2.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:42.750</th>
<td>4416.0</td>
<td>559916.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:43.000</th>
<td>4416.0</td>
<td>559916.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:43.250</th>
<td>4416.0</td>
<td>559916.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:43.500</th>
<td>4418.0</td>
<td>559918.0</td>
<td>2.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:43.750</th>
<td>4418.0</td>
<td>559918.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:44.000</th>
<td>4418.0</td>
<td>559924.0</td>
<td>6.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:44.250</th>
<td>4418.0</td>
<td>559924.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:44.500</th>
<td>4418.0</td>
<td>559924.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:44.750</th>
<td>4418.0</td>
<td>559924.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:45.000</th>
<td>4418.0</td>
<td>559924.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:45.250</th>
<td>4418.0</td>
<td>559924.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:45.500</th>
<td>4416.0</td>
<td>559934.0</td>
<td>10.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:45.750</th>
<td>4416.0</td>
<td>559934.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:46.000</th>
<td>4418.0</td>
<td>559940.0</td>
<td>6.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:46.250</th>
<td>4416.0</td>
<td>559942.0</td>
<td>2.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:46.500</th>
<td>4418.0</td>
<td>560542.0</td>
<td>600.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:46.750</th>
<td>4418.0</td>
<td>560542.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:47.000</th>
<td>4418.0</td>
<td>560542.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:47.250</th>
<td>4418.0</td>
<td>560576.0</td>
<td>34.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:47.500</th>
<td>4418.0</td>
<td>560594.0</td>
<td>18.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:47.750</th>
<td>4418.0</td>
<td>560610.0</td>
<td>16.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:48.000</th>
<td>4418.0</td>
<td>560610.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:48.250</th>
<td>4418.0</td>
<td>560610.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:48.500</th>
<td>4418.0</td>
<td>560610.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:48.750</th>
<td>4418.0</td>
<td>560612.0</td>
<td>2.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:49.000</th>
<td>4418.0</td>
<td>560612.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:49.250</th>
<td>4418.0</td>
<td>560612.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:49.500</th>
<td>4418.0</td>
<td>560612.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:49.750</th>
<td>4420.0</td>
<td>560692.0</td>
<td>80.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:50.000</th>
<td>4420.0</td>
<td>560736.0</td>
<td>44.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:50.250</th>
<td>4418.0</td>
<td>560738.0</td>
<td>2.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:50.500</th>
<td>4418.0</td>
<td>560738.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:50.750</th>
<td>4418.0</td>
<td>560738.0</td>
<td>0.0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [27]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ta1</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s1">'2015-11-23 23:13:50'</span><span class="p">:</span> <span class="s1">'2015-11-23 23:14:04'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'last'</span><span class="p">,</span> <span class="s1">'volume'</span><span class="p">,</span> <span class="s1">'vol_diff'</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[27]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div style="max-width:1500px;overflow:auto;">
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>last</th>
<th>volume</th>
<th>vol_diff</th>
</tr>
</thead>
<tbody>
<tr>
<th>2015-11-23 23:13:50.000</th>
<td>4420.0</td>
<td>560736.0</td>
<td>44.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:50.250</th>
<td>4418.0</td>
<td>560738.0</td>
<td>2.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:50.500</th>
<td>4418.0</td>
<td>560738.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:50.750</th>
<td>4418.0</td>
<td>560738.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:51.000</th>
<td>4418.0</td>
<td>560740.0</td>
<td>2.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:51.250</th>
<td>4418.0</td>
<td>560740.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:51.500</th>
<td>4420.0</td>
<td>560840.0</td>
<td>100.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:51.750</th>
<td>4420.0</td>
<td>560840.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:52.000</th>
<td>4420.0</td>
<td>560850.0</td>
<td>10.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:52.250</th>
<td>4420.0</td>
<td>560850.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:52.500</th>
<td>4418.0</td>
<td>560860.0</td>
<td>10.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:52.750</th>
<td>4418.0</td>
<td>560860.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:53.000</th>
<td>4418.0</td>
<td>560860.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:53.250</th>
<td>4418.0</td>
<td>560860.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:53.500</th>
<td>4418.0</td>
<td>560860.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:53.750</th>
<td>4418.0</td>
<td>560860.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:54.000</th>
<td>4420.0</td>
<td>560880.0</td>
<td>20.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:54.250</th>
<td>4420.0</td>
<td>560880.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:54.500</th>
<td>4418.0</td>
<td>560890.0</td>
<td>10.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:54.750</th>
<td>4418.0</td>
<td>560890.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:55.000</th>
<td>4420.0</td>
<td>560994.0</td>
<td>104.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:55.250</th>
<td>4420.0</td>
<td>560994.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:55.500</th>
<td>4420.0</td>
<td>560994.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:55.750</th>
<td>4420.0</td>
<td>560994.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:56.000</th>
<td>4420.0</td>
<td>561196.0</td>
<td>202.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:56.250</th>
<td>4420.0</td>
<td>561196.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:56.500</th>
<td>4420.0</td>
<td>561278.0</td>
<td>82.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:56.750</th>
<td>4420.0</td>
<td>561284.0</td>
<td>6.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:57.000</th>
<td>4420.0</td>
<td>561288.0</td>
<td>4.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:57.250</th>
<td>4420.0</td>
<td>561288.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:57.500</th>
<td>4420.0</td>
<td>561288.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:57.750</th>
<td>4420.0</td>
<td>561288.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:58.000</th>
<td>4420.0</td>
<td>561296.0</td>
<td>8.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:58.250</th>
<td>4420.0</td>
<td>561296.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:58.500</th>
<td>4420.0</td>
<td>561296.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:58.750</th>
<td>4420.0</td>
<td>561296.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:59.000</th>
<td>4420.0</td>
<td>561304.0</td>
<td>8.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:59.250</th>
<td>4420.0</td>
<td>561528.0</td>
<td>224.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:59.500</th>
<td>4420.0</td>
<td>561528.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:13:59.750</th>
<td>4422.0</td>
<td>561530.0</td>
<td>2.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:00.000</th>
<td>4420.0</td>
<td>561550.0</td>
<td>20.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:00.250</th>
<td>4420.0</td>
<td>561550.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:00.500</th>
<td>4420.0</td>
<td>561552.0</td>
<td>2.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:00.750</th>
<td>4420.0</td>
<td>561552.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:01.000</th>
<td>4420.0</td>
<td>561552.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:01.250</th>
<td>4422.0</td>
<td>561692.0</td>
<td>140.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:01.500</th>
<td>4422.0</td>
<td>561692.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:01.750</th>
<td>4422.0</td>
<td>561692.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:02.000</th>
<td>4422.0</td>
<td>561692.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:02.250</th>
<td>4422.0</td>
<td>561694.0</td>
<td>2.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:02.500</th>
<td>4422.0</td>
<td>561694.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:02.750</th>
<td>4422.0</td>
<td>561694.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:03.000</th>
<td>4422.0</td>
<td>561714.0</td>
<td>20.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:03.250</th>
<td>4420.0</td>
<td>561724.0</td>
<td>10.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:03.500</th>
<td>4420.0</td>
<td>561736.0</td>
<td>12.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:03.750</th>
<td>4420.0</td>
<td>561736.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:04.000</th>
<td>4420.0</td>
<td>561736.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:04.250</th>
<td>4420.0</td>
<td>561736.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:04.500</th>
<td>4420.0</td>
<td>561736.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-23 23:14:04.750</th>
<td>4420.0</td>
<td>561738.0</td>
<td>2.0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [345]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [297]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">vwap</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">ta</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">vwap</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="s1">'last'</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">vwap</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">vwap</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[297]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>[<matplotlib.lines.line2d at 0x7fe8fc3b1dd0>]</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [270]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">vwap_indicator</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[270]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>2700120</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [271]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">ta_in_pm</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[271]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>1791180</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [272]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">day_len</span><span class="o">*</span><span class="mi">20</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[272]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>1800080</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [310]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">day_len</span><span class="o">*</span><span class="mi">20</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">ta_in_pm</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[310]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>8900</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [242]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="mi">200</span><span class="o">+</span><span class="mi">44</span><span class="p">)</span><span class="o">*</span><span class="mi">20</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[242]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>4880</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [303]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">vwap_indicator</span><span class="p">[</span><span class="n">ta_in_pm</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [307]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [309]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">vwap_indicator</span><span class="o">.</span><span class="n">isnull</span><span class="p">())</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[309]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>40</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [308]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[308]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>1791180</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [284]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vwap</span><span class="p">,</span> <span class="n">vwap_indicator</span> <span class="o">=</span> <span class="n">VWAPIndicator3</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>0
1
1
40
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">pm</span><span class="p">[</span><span class="n">xnew</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [321]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [48]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># --------------------------------------------</span>
<span class="sd">'''plot fit'''</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">plot_fit</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">res</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">exog_names</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
RU5ErkJggg==
">
</img></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [54]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vwap_indicator</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mf">10.25</span><span class="p">,</span> <span class="mf">10.25</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[54]:</div>
<div class="output_text output_subarea output_execute_result">
<pre><matplotlib.axes.axessubplot at 0x7fcbc57f8b10></pre>
</div>
</div>
<div class="output_area"><div class="prompt"></div>
<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
HNZSgERcV3FL0u8Hd5m5Z2jhUqvVVCqVFASBNjY29P3vf1+Tk06fpcMI+eKln6d9A8nN/RvfTkZc
2reaaOeh/t//+fcD/3+9PDvIZmjhYoxREASSJM/z1O12lcvlhrUcjICVt/+XZuf+7ZXjOw//qtlg
/oXXfinpyjdez8okfEPptJ5oIuHXfBuvDeM9R+1z5PrMhiR12n/PNDud1hP98f/+76SPgX1MhGEY
D+ONP/zwQ7355pt731x+9rOfDWMZAIBvwdC+uVy8eFFbW1uamZnR0tLSsJYBAPgWDC1c5ufndeXK
lf0LAQAjhyvoAADrCBcAgHWECwDAOief0H/48KH+9Kc/6dy5czp37pwajYa2trZ0/Pg/72GvVCpD
XuHwvNybdrutarUq3/c1NTWly5cvD3uJTvjggw+0sLAgSTp9+rRef/31Ia/IDTy8nOzOnTu6e/eu
CoWCPM/Tm2++OewlDd1XX32lmzdv6vHjx7p69aqq1ariOJYxRuVyOfXxESe/ufi+r+9973svHJua
mtL09LR83x/Oohzxcm/q9bqKxaLK5bLa7bba7fbwFueY2dlZ9Xo95fP5YS/FGc8fXq5UKtre3lav
x5Pt3zQ9Pa3JyUnNzc0NeylO6PV6unTpkiTp2bNn6nQ6KpfLOn/+vOr19IeMnfjm8sknn+j+/ft7
Py+VSi+8fvz4cf34xz9WLpdTtVrV48eP9dprrw16mUOxX2+++TCq7/uKomjv50fJy32qVCpaWFhQ
t9vVRx99pJ/85CdDXJ07eHg52dmzZ3X27Fl5nqff/va3ev311498b2ZnZ/d+HEXR3l/un/9Zk8aJ
cLl48aIuXrz4wrEnT57s/bjVamlyclK5XE7T09Pa3d0d9BKHZr/eBEGgVqulubm5vf8eRS/3aXt7
WwsLC5qamuJv598QBIHa7baCICBYXrKzs7P3LXd6elpxPJTny501Nze3FyitVmvfMwJOhMvLbt++
rc8//1wTExPq9Xr6zne+oz/+8Y86duyYdnd3dfLkyWEvcWhe7s2FCxe0ubmp7e1tFQoF/rD42tOn
T/X5558rjmO98cYbw16OM3h4Odnk5KSuX7+ufD6vIAiO/Cl4Sfryyy/12Wefqdls6vbt2/I8T5ub
mzLG7Hvte2jbvwAAxpeTF/QBAKONcAEAWEe4AACsI1wAANYRLgAA6wgXAIB1hAsAwDrCBQBg3f8H
QgMSa3B0/U8AAAAASUVORK5CYII=
">
</img></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [35]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ta_pm</span> <span class="o">=</span> <span class="n">GiveMePM</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">44</span><span class="p">,</span> <span class="n">lim</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [53]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vwap</span><span class="p">,</span> <span class="n">vwap_indicator</span> <span class="o">=</span> <span class="n">VWAPIndicator4</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="mi">240</span><span class="p">)</span>
<span class="n">vwap_indicator</span> <span class="o">=</span> <span class="n">vwap_indicator</span><span class="p">[</span><span class="n">ta_pm</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [57]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ta_pm</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mf">50.5</span><span class="p">,</span> <span class="mf">50.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[57]:</div>
<div class="output_text output_subarea output_execute_result">
<pre><matplotlib.axes.axessubplot at 0x7fcbc518f550></pre>
</div>
</div>
<div class="output_area"><div class="prompt"></div>
<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
XlOpxAdeKOag/2c/dPio0upxSVJz7f6B377f88B/MpuxybJMaZpKkpIk0dbWloaGhr7xzP/1IuwA
6CumF33ZrsHYXF9R3663HfTHWZfx2f1at7e/KLxvn59zm+Tfl1dfvV7v9DpCkt5//329+eabOx/Z
/OxnP+t1EgDgBbH5yOb06dOan5/XwMCAxsfHe50DAHiBbMbmyJEjOnfuXK8zAAAB8Bl4AEBwjA0A
IDjGBgAQnM3nbJ5lbW1Nf/7zn/Xzn/9ckjQ3N6dyuaxDhw5pamqqp22Li4taX1/X9va2Tp06pUql
YtN348YNPXz4UI8fP9bExISq1apNmyR9/vnn+vDDD/Xqq6/q1Vdf1cbGhlWf6zcbb29va2FhQQ8e
PND58+c1NzenTqejLMtUq9X+7dsGvk0PHz7U9evXNTg4qEOHDqmvr8+mTZJWVla0sLCw88+YJKu+
Jz1/+ctf9N3vflePHz+26bt586Y+/vhjVatVJUmiVquVuy2Kj2weP36sxcVFjY2NSZKWlpY0OTmp
Wq2mjY0NbWxs9LRvdHRUZ8+e1Q9+8AN9+umnVn0jIyN66623dObMGbs2SSqXy3rllVd2fuzW9+Sb
jWdnZ3Xnzh212x5X1rTbbZ05c0aS9OjRI21ubqpWq2liYkJLS8++2SC02dlZ/fjHP9bKyopdW6lU
0tmzZzUzM6P79+/b9UnSRx99pNHRUXU6Hbu+/v5+lUolpWl6oDbLj2w++ugjffbZZzs/LpVKmp2d
1Ycffijpm98AWi6X1Ww2d37ci77p6Wn94x//0L/+9S+99dZbunHjRs/69rb96Ec/UpZlajQampqa
0vXr1+3Obrdev2/3yvPNxr0wODi487+bzabK5bKkr8+sl44cOaJOp6NGo6Fjx46p0+nYtElf9q2s
rOj999/X8ePH7fqWl5fV39+varWqu3fvWr1vT5w4oRMnTihJEl26dEnVajV3m+XYnD59WqdPn5Yk
ra+va35+Xjdv3tTKyor++c9/Kk1Tra+va3h4eOevveqTpLt372pyclLj4+P64IMP9J3vfKdnfXvb
VlZWdO3aNc3MzChJEruze9L4RK/79krTVBsbG0rT1GZo9hoeHt75jb6+vq5KpdLTnlarpb///e/6
/ve/r+HhYV2/ft2mTZLu37+vI0eO6Kc//akuXbq088+YS9+dO3eUJInu37+v9fX1ndcd+lZXV3ca
hoeH1Wq1JOVrs7lBII+//e1vmpqaUqlU0tWrVzU4OKgkSfTGG2/0tGt+fl6PHz9WlmU6efKkjh07
ZtP37rvvamxsTKVSSdVqVd/73vds2qQvP6f06aefqq+vT+Pj43Z9Dx8+1OLiogYGBjQyMqJTp071
tOeJe/fu6fbt27p165ZOnjy583qWZZqdnVWSJD1rW1xc1PLyskZGRiR9+Ud+pVLJok368iOHmzdv
qr+/X51OR0NDQ2q1WjZ9TywvL+vzzz9Xu9226Xvw4IEWFhZUqVR2zi9vW1RjAwCIUxRfIAAAiBtj
AwAIjrEBAATH2AAAgmNsAADBMTYAgOAYGwBAcIwNACC4/wfcdI8NTgRCcQAAAABJRU5ErkJggg==
">
</img></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Re-check!">Re check!<a class="anchor-link" href="#Re-check!">¶</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [185]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t11</span><span class="p">,</span> <span class="n">t22</span> <span class="o">=</span> <span class="s1">'2015-11-25 23:03:06.000'</span><span class="p">,</span> <span class="s1">'2015-11-25 23:03:12.000'</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [186]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ta</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">t11</span><span class="p">:</span> <span class="n">t22</span><span class="p">,</span> <span class="s1">'vol_diff'</span><span class="p">])</span>
<span class="c1">#plt.ylim([0,3000])</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[186]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>[<matplotlib.lines.line2d at 0x7fe8f4638790>]</pre>
</div>
</div>
<div class="output_area"><div class="prompt"></div>
<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
5VgIPberka5mZnqyblXiW78tuZ3J3ajfNnF77kb9tqHnRpa8C27X/bYJoed2feJeqirxrd+W3M3k
jtJvm7g9d6N+29BzI0veBbfzftsE0HM7D+46eyd97LcldxMCo/TbJl7PHa3fNvTcyIp/wZ1Bv218
77ld7Zs09U7cPvbbkruZ3FH7bRO1547aby+8Lz03MuJfcGfQbxvfe27nH07WeXLSx35bcnfijtpv
m6g9d9R+29BzIyteBXdW/bbxved2/uFknb2TPvbbkpuZ3HH6bRO1547abxt6bmTFq+DOrN82nvfc
WXw4ae978c/ws982ae/ljtNvm2g9d7x+29BzIwt+BXeG/bbxued2tW/SLLZ30td+26SdVxK33zaN
eu64/fbC+9JzIwN+BXeG/bbxued2tW/SLHbi9rXfNmlncsftt02jnjtuv23ouZEFb4I7637b+Npz
u9w3aRbbO+lrv23SzORO0m+bRj133H7b0HMjC94Ed+b9tvG053Y90lV6795J3/ttKV3HnaTfNkv3
3Mn6bUPPDdf8Ce4m9NvGx57b9UjX6vey9/a935bSddxJ+21Tr+dO2m8vvC89NxzzJ7ib0G8bH3tu
l/smTe3eSd/7bSndTO6k/bap13Mn7bcNPTdc8yK4m9VvGx97bpf7Jk3t3knf+20p+UzuNP22qddz
J+23DT03XPMiuJvWbxsPe+4sqhJ7v0JpRRD9tpS8407Tb5vFe+50/bah54ZLfgR3E/tt41vPncWH
k9LFvZMh9NtS8pncafttU9tzp+23F96XnhsO+RHcTey3jW89d5Yn7mJHVxD9tpR8JnfaftvU9txp
+21Dzw2Xcg/uZvfbxree2/W+SWN7J0Pot6VkM7ld9NumtudO228bem64lHtwN73fNp713K73TZqZ
6QmtuGQgiH5bSjYh0EW/bd7dc7vptw09N1zJP7hz6LeNTz236wFTZrY8odVDVwbRb0vJZnK76reN
9dw9a97npN9eeF96bjiSf3Dn0G8bn3pu1yNdzcz0pArFUhD9tpTsxO2q3zbWc2+46mYn/bah54Yr
sYL76NGj2rVrl77yla/ou9/9buo/PK9+2/jUc2d14rb3DKHfluLP5HbZbxvruYc33+ik3zb03HAl
VnA/8sgj+sIXvqA9e/boZz/7mcrlcqo/PLd+23jUc2cW3Bd68xBqEhPnXm6X/baxnru9UHL+Lzx6
brhQjPPi06dPa+3atZKk3t5enTt3TqtXr37P6z70sT+N9H559ttm9MRhffj374h8zVnpWfN+nX3D
TUdbLbQTtzQf3JduuFpt7Y3PFavWXe603zajI4e1+rIPOz9UWM/9kes/o+l3zjh9byT31qu/1OlX
fpH3ZUTWVqlUKlFfvHfvXu3cuVPr1q3Tjh079PDDD2d5bQCARcQK7mPHjumb3/ymenp6dMUVV+j2
22/P8toAAIuIFdwAgPzlfjsgACAeghsAAkNwA0BgYt0O2MjRo0f1yCOPqLe3Vxs3btSnP/1pl2+f
u+9///v60Y9+pE2bNqmvr0+f//zn876k1MbHx7V//34dOXJEjz76qB544AHNzs5qdHRUu3btWvR2
z5DUfn3bt2/XddddJ0m65ZZbtGXLlpyvMJ1jx45p37596u/vV6lUUqlU0szMzLL5/tV+fU8//fSy
+f69+OKL2r9/v9asWaMVK1aora0t8vfO6Ynb9QM6vmlra9PKlStVLBa1fv36vC/HiXK5rLvuukuV
SkUjIyMaGxvTPffco1tvvVWPP/543peXWvXXJ0nFYlG9vb2am5vTZZddlvPVubFnzx7t3btXv/71
r5fd90+6+PUdPXpUpVJJPT09y+L7VyqV9KUvfUm7d+/WoUOHYn3vnJ64oz6gE6obbrhBN954o3p7
e/XFL35R119/ffBfX39//8LfV3//BgcH9eabb+Z1Wc5Uf32S9OCDD+p973ufjh07pm984xvau3dv
TlfmxqZNm1SpVHTgwAFdc801C/+CWi7fv+qvb/v27br66qs1PDy8LL5/mzZt0q9+9Svt3r1b27Zt
i/W9c3riXr9+vV5//XVJ0pkzZ4IPtVrHjx9f+K+I7u5uzcy4nZ2dt/Xr1+vUqVOSpJMnT2poaCjn
K3JrZmZGL788/4TlypUrNTXlZgZJnqanp3Xffffpox/9qG677bZl9/2r/vo++clPLqvv3wsvvKAN
GzZo3759eu655/Taa69Jiva9c3of93J/QOfIkSPav3+/hoaGtHLlymXRcR86dEhPPvmkfvKTn+im
m25SW1ubKpWKxsbGdO+996qvry/vS0yl9usbHx9XV1eXxsfH9bnPfU4bN27M+xJTefjhh/Xzn/9c
H/zgByVJc3Nzam9vXzbfv9qv7+2331ZPT8+y+P49++yzeuKJJ9Td3a3Z2VkNDAxocnIy0veOB3AA
IDDcDggAgSG4ASAwBDcABIbgBoDAENwAEBiCGwACQ3ADQGAIbgAIzP8DoD9TV/wyrdQAAAAASUVO
RK5CYII=
">
</img></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [183]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ta</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">t11</span><span class="p">:</span> <span class="n">t22</span><span class="p">,</span> <span class="p">[</span><span class="s1">'last'</span><span class="p">,</span> <span class="s1">'volume'</span><span class="p">,</span> <span class="s1">'vol_diff'</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[183]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div style="max-width:1500px;overflow:auto;">
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>last</th>
<th>volume</th>
<th>vol_diff</th>
</tr>
</thead>
<tbody>
<tr>
<th>2015-11-25 22:03:06.000</th>
<td>1775.0</td>
<td>148528.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:06.250</th>
<td>1775.0</td>
<td>148528.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:06.500</th>
<td>1775.0</td>
<td>148528.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:06.750</th>
<td>1775.0</td>
<td>148528.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:07.000</th>
<td>1775.0</td>
<td>148528.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:07.250</th>
<td>1775.0</td>
<td>148528.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:07.500</th>
<td>1775.0</td>
<td>148528.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:07.750</th>
<td>1775.0</td>
<td>148528.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:08.000</th>
<td>1775.0</td>
<td>148528.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:08.250</th>
<td>1775.0</td>
<td>148528.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:08.500</th>
<td>1775.0</td>
<td>148528.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:08.750</th>
<td>1775.0</td>
<td>148528.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:09.000</th>
<td>1775.0</td>
<td>148528.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:09.250</th>
<td>1775.0</td>
<td>148528.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:09.500</th>
<td>1775.0</td>
<td>148528.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:09.750</th>
<td>1775.0</td>
<td>148530.0</td>
<td>2.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:10.000</th>
<td>1775.0</td>
<td>148530.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:10.250</th>
<td>1775.0</td>
<td>148530.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:10.500</th>
<td>1775.0</td>
<td>148530.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:10.750</th>
<td>1775.0</td>
<td>148530.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:11.000</th>
<td>1775.0</td>
<td>148530.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:11.250</th>
<td>1775.0</td>
<td>148530.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:11.500</th>
<td>1775.0</td>
<td>148530.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:11.750</th>
<td>1775.0</td>
<td>148530.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:12.000</th>
<td>1775.0</td>
<td>148530.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:12.250</th>
<td>1775.0</td>
<td>148530.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:12.500</th>
<td>1775.0</td>
<td>148530.0</td>
<td>0.0</td>
</tr>
<tr>
<th>2015-11-25 22:03:12.750</th>
<td>1775.0</td>
<td>148532.0</td>
<td>2.0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [170]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vwap_indicator</span><span class="p">[</span><span class="n">t11</span><span class="p">:</span> <span class="n">t22</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[170]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>2015-12-01 11:03:06.000    0.0
2015-12-01 11:03:06.250    0.0
2015-12-01 11:03:06.500    0.0
2015-12-01 11:03:06.750    0.0
2015-12-01 11:03:07.000    0.0
2015-12-01 11:03:07.250    0.0
2015-12-01 11:03:07.500    0.0
2015-12-01 11:03:07.750    0.0
2015-12-01 11:03:08.000    0.0
2015-12-01 11:03:08.250    0.0
2015-12-01 11:03:08.500    0.0
2015-12-01 11:03:08.750    0.0
2015-12-01 11:03:09.000    0.0
2015-12-01 11:03:09.250    0.0
2015-12-01 11:03:09.500    0.0
2015-12-01 11:03:09.750    0.0
2015-12-01 11:03:10.000    0.0
2015-12-01 11:03:10.250    0.0
2015-12-01 11:03:10.500    0.0
2015-12-01 11:03:10.750    0.0
2015-12-01 11:03:11.000    0.0
2015-12-01 11:03:11.250    0.0
2015-12-01 11:03:11.500    0.0
2015-12-01 11:03:11.750    0.0
2015-12-01 11:03:12.000    0.0
2015-12-01 11:03:12.250    0.0
2015-12-01 11:03:12.500    0.0
2015-12-01 11:03:12.750    0.0
Name: vwap_indicator, dtype: float64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [171]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vwap</span><span class="p">[</span><span class="n">t11</span><span class="p">:</span> <span class="n">t22</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[171]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>2015-12-01 11:03:06.000    1822.0
2015-12-01 11:03:06.250    1822.0
2015-12-01 11:03:06.500    1822.0
2015-12-01 11:03:06.750    1822.0
2015-12-01 11:03:07.000    1822.0
2015-12-01 11:03:07.250    1822.0
2015-12-01 11:03:07.500    1822.0
2015-12-01 11:03:07.750    1822.0
2015-12-01 11:03:08.000    1822.0
2015-12-01 11:03:08.250    1822.0
2015-12-01 11:03:08.500    1822.0
2015-12-01 11:03:08.750    1822.0
2015-12-01 11:03:09.000    1822.0
2015-12-01 11:03:09.250    1822.0
2015-12-01 11:03:09.500    1822.0
2015-12-01 11:03:09.750    1822.0
2015-12-01 11:03:10.000    1822.0
2015-12-01 11:03:10.250    1822.0
2015-12-01 11:03:10.500    1822.0
2015-12-01 11:03:10.750    1822.0
2015-12-01 11:03:11.000    1822.0
2015-12-01 11:03:11.250    1822.0
2015-12-01 11:03:11.500    1822.0
2015-12-01 11:03:11.750    1822.0
2015-12-01 11:03:12.000    1822.0
2015-12-01 11:03:12.250    1822.0
2015-12-01 11:03:12.500    1822.0
2015-12-01 11:03:12.750    1822.0
Name: vwaPrc, dtype: float64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [247]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ta</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s1">'2015-11-19 21:00:55.000'</span><span class="p">:</span> <span class="s1">'2015-11-19 21:01:58.000'</span><span class="p">,</span> <span class="s1">'last'</span><span class="p">][:</span><span class="mi">55</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[247]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>2015-11-19 21:00:55.000    4508.0
2015-11-19 21:00:55.250    4510.0
2015-11-19 21:00:55.500    4510.0
2015-11-19 21:00:55.750    4508.0
2015-11-19 21:00:56.000    4506.0
2015-11-19 21:00:56.250    4508.0
2015-11-19 21:00:56.500    4508.0
2015-11-19 21:00:56.750    4508.0
2015-11-19 21:00:57.000    4510.0
2015-11-19 21:00:57.250    4508.0
2015-11-19 21:00:57.500    4508.0
2015-11-19 21:00:57.750    4510.0
2015-11-19 21:00:58.000    4508.0
2015-11-19 21:00:58.250    4510.0
2015-11-19 21:00:58.500    4508.0
2015-11-19 21:00:58.750    4508.0
2015-11-19 21:00:59.000    4506.0
2015-11-19 21:00:59.250    4506.0
2015-11-19 21:00:59.500    4508.0
2015-11-19 21:00:59.750    4508.0
2015-11-19 21:01:00.000    4508.0
2015-11-19 21:01:00.250    4508.0
2015-11-19 21:01:00.500    4506.0
2015-11-19 21:01:00.750    4508.0
2015-11-19 21:01:01.000    4508.0
2015-11-19 21:01:01.250    4508.0
2015-11-19 21:01:01.500    4506.0
2015-11-19 21:01:01.750    4506.0
2015-11-19 21:01:02.000    4506.0
2015-11-19 21:01:02.250    4506.0
2015-11-19 21:01:02.500    4506.0
2015-11-19 21:01:02.750    4506.0
2015-11-19 21:01:03.000    4506.0
2015-11-19 21:01:03.250    4504.0
2015-11-19 21:01:03.500    4504.0
2015-11-19 21:01:03.750    4504.0
2015-11-19 21:01:04.000    4500.0
2015-11-19 21:01:04.250    4500.0
2015-11-19 21:01:04.500    4502.0
2015-11-19 21:01:04.750    4496.0
2015-11-19 21:01:05.000    4500.0
2015-11-19 21:01:05.250    4500.0
2015-11-19 21:01:05.500    4500.0
2015-11-19 21:01:05.750    4500.0
2015-11-19 21:01:06.000    4500.0
2015-11-19 21:01:06.250    4500.0
2015-11-19 21:01:06.500    4500.0
2015-11-19 21:01:06.750    4500.0
2015-11-19 21:01:07.000    4502.0
2015-11-19 21:01:07.250    4502.0
2015-11-19 21:01:07.500    4502.0
2015-11-19 21:01:07.750    4502.0
2015-11-19 21:01:08.000    4504.0
2015-11-19 21:01:08.250    4504.0
2015-11-19 21:01:08.500    4506.0
Name: last, dtype: float64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [241]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ta_in_pm</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s1">'2015-11-19 21:00:55.000'</span><span class="p">:</span> <span class="s1">'2015-11-19 21:00:58.000'</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[241]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>2015-11-19 21:00:55.000   -6.0
2015-11-19 21:00:55.250   -8.0
2015-11-19 21:00:55.500   -6.0
2015-11-19 21:00:55.750   -4.0
2015-11-19 21:00:56.000    0.0
2015-11-19 21:00:56.250   -4.0
2015-11-19 21:00:56.500   -4.0
2015-11-19 21:00:56.750    0.0
2015-11-19 21:00:57.000   -6.0
2015-11-19 21:00:57.250   -6.0
2015-11-19 21:00:57.500   -6.0
2015-11-19 21:00:57.750   -8.0
2015-11-19 21:00:58.000   -4.0
2015-11-19 21:00:58.250   -6.0
2015-11-19 21:00:58.500   -4.0
2015-11-19 21:00:58.750   -6.0
Name: last, dtype: float64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [197]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">temp1</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [195]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vwap_indicator</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[195]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>2015-11-19 21:00:00.000         NaN
2015-11-19 21:00:00.250         NaN
2015-11-19 21:00:00.500         NaN
2015-11-19 21:00:00.750         NaN
2015-11-19 21:00:01.000         NaN
2015-11-19 21:00:01.250         NaN
2015-11-19 21:00:01.500         NaN
2015-11-19 21:00:01.750         NaN
2015-11-19 21:00:02.000         NaN
2015-11-19 21:00:02.250         NaN
2015-11-19 21:00:02.500         NaN
2015-11-19 21:00:02.750         NaN
2015-11-19 21:00:03.000         NaN
2015-11-19 21:00:03.250         NaN
2015-11-19 21:00:03.500         NaN
2015-11-19 21:00:03.750         NaN
2015-11-19 21:00:04.000   -0.937409
2015-11-19 21:00:04.250    0.060734
2015-11-19 21:00:04.500   -0.929339
2015-11-19 21:00:04.750   -0.714008
2015-11-19 21:00:05.000    0.297571
2015-11-19 21:00:05.250   -0.350000
2015-11-19 21:00:05.500   -0.332349
2015-11-19 21:00:05.750   -1.180602
2015-11-19 21:00:06.000   -0.941915
2015-11-19 21:00:06.250   -0.854938
2015-11-19 21:00:06.500   -0.824089
2015-11-19 21:00:06.750   -0.815873
2015-11-19 21:00:07.000    0.222222
2015-11-19 21:00:07.250   -0.748031
                             ...   
2015-12-31 14:59:52.750    0.930693
2015-12-31 14:59:53.000   -0.069307
2015-12-31 14:59:53.250   -0.060000
2015-12-31 14:59:53.500    0.824561
2015-12-31 14:59:53.750    0.800000
2015-12-31 14:59:54.000    0.781250
2015-12-31 14:59:54.250    0.592593
2015-12-31 14:59:54.500    0.584906
2015-12-31 14:59:54.750    0.584906
2015-12-31 14:59:55.000   -0.365385
2015-12-31 14:59:55.250    0.473684
2015-12-31 14:59:55.500    0.444444
2015-12-31 14:59:55.750   -0.869565
2015-12-31 14:59:56.000    0.115385
2015-12-31 14:59:56.250    0.056604
2015-12-31 14:59:56.500   -0.909091
2015-12-31 14:59:56.750   -0.857143
2015-12-31 14:59:57.000   -0.607595
2015-12-31 14:59:57.250   -0.369231
2015-12-31 14:59:57.500    0.666667
2015-12-31 14:59:57.750    0.645669
2015-12-31 14:59:58.000   -0.348837
2015-12-31 14:59:58.250    0.656250
2015-12-31 14:59:58.500    0.656250
2015-12-31 14:59:58.750    0.656250
2015-12-31 14:59:59.000    0.585714
2015-12-31 14:59:59.250   -0.382550
2015-12-31 14:59:59.500    0.613333
2015-12-31 14:59:59.750   -0.389262
2015-12-31 15:00:00.000   -0.376712
Name: vwap_indicator2, dtype: float64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [133]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ta_out_pm</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[133]:</div>
<div class="output_text output_subarea output_execute_result">
<pre><matplotlib.axes.axessubplot at 0x7fda4ca77a10></pre>
</div>
</div>
<div class="output_area"><div class="prompt"></div>
<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
xlgEiIhk7P8BZm5SJg1vl2wAAAAASUVORK5CYII=
">
</img></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Black???">Black???<a class="anchor-link" href="#Black???">¶</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [82]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">mywindow</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">2400</span><span class="p">,</span> <span class="mi">5000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">24000</span><span class="p">]:</span>
    <span class="nb">print</span> <span class="s1">'</span><span class="se">\n\n\n</span><span class="s1">---------------mywindow: </span><span class="si">%d</span><span class="s1"> ----------------------'</span> <span class="o">%</span><span class="k">mywindow</span>
    <span class="c1">#mywindow = 2400 * 3</span>
    <span class="n">vol_roll</span> <span class="o">=</span> <span class="n">ta</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,</span> <span class="s1">'volume'</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="n">mywindow</span><span class="p">)</span>
    <span class="n">last_multiply_vol</span> <span class="o">=</span> <span class="n">ta</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,</span> <span class="s1">'last'</span><span class="p">]</span> <span class="o">*</span> <span class="n">ta</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,</span> <span class="s1">'volume'</span><span class="p">]</span>
    <span class="n">multi_roll</span> <span class="o">=</span> <span class="n">last_multiply_vol</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="n">mywindow</span><span class="p">)</span>
    <span class="n">vwap</span> <span class="o">=</span> <span class="n">multi_roll</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">*</span><span class="mf">1.</span> <span class="o">/</span> <span class="n">vol_roll</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="n">vwap_indicator</span> <span class="o">=</span> <span class="n">vwap</span> <span class="o">-</span> <span class="n">ta</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,</span> <span class="s1">'last'</span><span class="p">]</span>
<span class="c1">#     vwap_indicator.dropna(inplace=True)</span>
<span class="c1">#-------------------------------------------------------------------------------</span>
    <span class="sd">'''</span>
<span class="sd">    Automatically generate in and out sample data, then calculate Qty_indicator,</span>
<span class="sd">    then regression under different parameters</span>
<span class="sd">    '''</span>
    <span class="n">insample_index</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">14</span><span class="p">,</span> <span class="mi">16</span><span class="p">],</span> <span class="p">[</span><span class="mi">18</span><span class="p">,</span><span class="mi">20</span><span class="p">],</span> <span class="p">[</span><span class="mi">22</span><span class="p">,</span> <span class="mi">24</span><span class="p">],</span> <span class="p">[</span><span class="mi">26</span><span class="p">,</span><span class="mi">28</span><span class="p">]]:</span>
        <span class="n">insample_index</span> <span class="o">=</span> <span class="n">insample_index</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">day_len</span><span class="o">*</span><span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">day_len</span><span class="o">*</span><span class="n">l</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
    <span class="n">outsample_index</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span> <span class="p">[</span><span class="mi">16</span><span class="p">,</span> <span class="mi">18</span><span class="p">],</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span><span class="mi">22</span><span class="p">],</span> <span class="p">[</span><span class="mi">24</span><span class="p">,</span> <span class="mi">26</span><span class="p">],</span> <span class="p">[</span><span class="mi">28</span><span class="p">,</span><span class="mi">30</span><span class="p">]]:</span>
        <span class="n">outsample_index</span> <span class="o">=</span> <span class="n">outsample_index</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">day_len</span><span class="o">*</span><span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">day_len</span><span class="o">*</span><span class="n">l</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
    
    <span class="k">for</span> <span class="n">forward_ticks</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
        <span class="n">ta_in_pm</span> <span class="o">=</span> <span class="n">GiveMePM</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">forward_ticks</span><span class="p">,</span> <span class="n">lim</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">])</span>
        <span class="n">ta_out_pm</span> <span class="o">=</span> <span class="n">GiveMePM</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">forward_ticks</span><span class="p">,</span> <span class="n">lim</span><span class="o">=</span><span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">30</span><span class="p">])</span>
    
        <span class="n">res</span> <span class="o">=</span> <span class="n">myols</span><span class="p">(</span><span class="n">vwap_indicator</span><span class="p">,</span> <span class="n">ta_in_pm</span><span class="p">)</span>
        <span class="nb">print</span> <span class="s1">'</span><span class="se">\n\n\n</span><span class="s1">--------------------- </span><span class="si">%d</span><span class="s1"> ----------------------'</span> <span class="o">%</span><span class="k">forward_ticks</span>
        <span class="nb">print</span> <span class="n">res</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
        <span class="nb">print</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">[OutSample R_SQUARE: </span><span class="si">%f</span><span class="s1">]'</span> <span class="o">%</span> <span class="p">(</span><span class="n">PredictedRsquare</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">vwap_indicator</span><span class="p">,</span> <span class="n">ta_out_pm</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>


---------------mywindow: 10 ----------------------



--------------------- 50 ----------------------
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                   last   R-squared:                       0.106
Model:                            OLS   Adj. R-squared:                  0.106
Method:                 Least Squares   F-statistic:                 2.121e+05
Date:                Thu, 14 Jul 2016   Prob (F-statistic):               0.00
Time:                        07:41:41   Log-Likelihood:            -3.5288e+06
No. Observations:             1793900   AIC:                         7.058e+06
Df Residuals:                 1793898   BIC:                         7.058e+06
Df Model:                           1                                         
==============================================================================
                 coef    std err          t      P>|t|      [95.0% Conf. Int.]
------------------------------------------------------------------------------
const          0.0046      0.001      3.587      0.000         0.002     0.007
None           0.7456      0.002    460.545      0.000         0.742     0.749
==============================================================================
Omnibus:                   507024.499   Durbin-Watson:                   0.214
Prob(Omnibus):                  0.000   Jarque-Bera (JB):         39368879.141
Skew:                           0.415   Prob(JB):                         0.00
Kurtosis:                      25.935   Cond. No.                         1.25
==============================================================================

[OutSample R_SQUARE: 0.122631]



---------------mywindow: 60 ----------------------



--------------------- 50 ----------------------
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                   last   R-squared:                       0.076
Model:                            OLS   Adj. R-squared:                  0.076
Method:                 Least Squares   F-statistic:                 1.472e+05
Date:                Thu, 14 Jul 2016   Prob (F-statistic):               0.00
Time:                        07:41:45   Log-Likelihood:            -3.5583e+06
No. Observations:             1793900   AIC:                         7.117e+06
Df Residuals:                 1793898   BIC:                         7.117e+06
Df Model:                           1                                         
==============================================================================
                 coef    std err          t      P>|t|      [95.0% Conf. Int.]
------------------------------------------------------------------------------
const          0.0057      0.001      4.365      0.000         0.003     0.008
None           0.4290      0.001    383.677      0.000         0.427     0.431
==============================================================================
Omnibus:                   520812.501   Durbin-Watson:                   0.250
Prob(Omnibus):                  0.000   Jarque-Bera (JB):         39272475.183
Skew:                           0.478   Prob(JB):                         0.00
Kurtosis:                      25.902   Cond. No.                         1.17
==============================================================================

[OutSample R_SQUARE: 0.081837]



---------------mywindow: 200 ----------------------



--------------------- 50 ----------------------
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                   last   R-squared:                       0.023
Model:                            OLS   Adj. R-squared:                  0.023
Method:                 Least Squares   F-statistic:                 4.208e+04
Date:                Thu, 14 Jul 2016   Prob (F-statistic):               0.00
Time:                        07:41:49   Log-Likelihood:            -3.6080e+06
No. Observations:             1793829   AIC:                         7.216e+06
Df Residuals:                 1793827   BIC:                         7.216e+06
Df Model:                           1                                         
==============================================================================
                 coef    std err          t      P>|t|      [95.0% Conf. Int.]
------------------------------------------------------------------------------
const          0.0043      0.001      3.209      0.001         0.002     0.007
None           0.1336      0.001    205.131      0.000         0.132     0.135
==============================================================================
Omnibus:                   472450.178   Durbin-Watson:                   0.310
Prob(Omnibus):                  0.000   Jarque-Bera (JB):         31917539.398
Skew:                           0.334   Prob(JB):                         0.00
Kurtosis:                      23.654   Cond. No.                         2.07
==============================================================================

[OutSample R_SQUARE: 0.013947]



---------------mywindow: 500 ----------------------



--------------------- 50 ----------------------
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                   last   R-squared:                       0.007
Model:                            OLS   Adj. R-squared:                  0.007
Method:                 Least Squares   F-statistic:                 1.320e+04
Date:                Thu, 14 Jul 2016   Prob (F-statistic):               0.00
Time:                        07:41:53   Log-Likelihood:            -3.6213e+06
No. Observations:             1793529   AIC:                         7.243e+06
Df Residuals:                 1793527   BIC:                         7.243e+06
Df Model:                           1                                         
==============================================================================
                 coef    std err          t      P>|t|      [95.0% Conf. Int.]
------------------------------------------------------------------------------
const          0.0031      0.001      2.247      0.025         0.000     0.006
None           0.0430      0.000    114.877      0.000         0.042     0.044
==============================================================================
Omnibus:                   450416.004   Durbin-Watson:                   0.334
Prob(Omnibus):                  0.000   Jarque-Bera (JB):         26258295.086
Skew:                           0.308   Prob(JB):                         0.00
Kurtosis:                      21.735   Cond. No.                         3.64
==============================================================================

[OutSample R_SQUARE: 0.002693]



---------------mywindow: 1000 ----------------------



--------------------- 50 ----------------------
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                   last   R-squared:                       0.004
Model:                            OLS   Adj. R-squared:                  0.004
Method:                 Least Squares   F-statistic:                     7867.
Date:                Thu, 14 Jul 2016   Prob (F-statistic):               0.00
Time:                        07:41:58   Log-Likelihood:            -3.6223e+06
No. Observations:             1793029   AIC:                         7.245e+06
Df Residuals:                 1793027   BIC:                         7.245e+06
Df Model:                           1                                         
==============================================================================
                 coef    std err          t      P>|t|      [95.0% Conf. Int.]
------------------------------------------------------------------------------
const          0.0028      0.001      2.069      0.039         0.000     0.005
None           0.0230      0.000     88.698      0.000         0.022     0.023
==============================================================================
Omnibus:                   447160.915   Durbin-Watson:                   0.339
Prob(Omnibus):                  0.000   Jarque-Bera (JB):         24993957.951
Skew:                           0.316   Prob(JB):                         0.00
Kurtosis:                      21.280   Cond. No.                         5.26
==============================================================================

[OutSample R_SQUARE: 0.001277]



---------------mywindow: 2400 ----------------------



--------------------- 50 ----------------------
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                   last   R-squared:                       0.002
Model:                            OLS   Adj. R-squared:                  0.002
Method:                 Least Squares   F-statistic:                     4191.
Date:                Thu, 14 Jul 2016   Prob (F-statistic):               0.00
Time:                        07:42:02   Log-Likelihood:            -3.6211e+06
No. Observations:             1791629   AIC:                         7.242e+06
Df Residuals:                 1791627   BIC:                         7.242e+06
Df Model:                           1                                         
==============================================================================
                 coef    std err          t      P>|t|      [95.0% Conf. Int.]
------------------------------------------------------------------------------
const          0.0023      0.001      1.703      0.089        -0.000     0.005
None           0.0111      0.000     64.737      0.000         0.011     0.011
==============================================================================
Omnibus:                   444553.349   Durbin-Watson:                   0.342
Prob(Omnibus):                  0.000   Jarque-Bera (JB):         24377265.848
Skew:                           0.315   Prob(JB):                         0.00
Kurtosis:                      21.060   Cond. No.                         7.97
==============================================================================

[OutSample R_SQUARE: 0.000621]



---------------mywindow: 5000 ----------------------



--------------------- 50 ----------------------
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                   last   R-squared:                       0.001
Model:                            OLS   Adj. R-squared:                  0.001
Method:                 Least Squares   F-statistic:                     2268.
Date:                Thu, 14 Jul 2016   Prob (F-statistic):               0.00
Time:                        07:42:07   Log-Likelihood:            -3.6169e+06
No. Observations:             1789029   AIC:                         7.234e+06
Df Residuals:                 1789027   BIC:                         7.234e+06
Df Model:                           1                                         
==============================================================================
                 coef    std err          t      P>|t|      [95.0% Conf. Int.]
------------------------------------------------------------------------------
const          0.0025      0.001      1.792      0.073        -0.000     0.005
None           0.0058      0.000     47.620      0.000         0.006     0.006
==============================================================================
Omnibus:                   442249.583   Durbin-Watson:                   0.343
Prob(Omnibus):                  0.000   Jarque-Bera (JB):         23995176.643
Skew:                           0.313   Prob(JB):                         0.00
Kurtosis:                      20.931   Cond. No.                         11.3
==============================================================================

[OutSample R_SQUARE: 0.000328]



---------------mywindow: 10000 ----------------------



--------------------- 50 ----------------------
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                   last   R-squared:                       0.000
Model:                            OLS   Adj. R-squared:                  0.000
Method:                 Least Squares   F-statistic:                     842.0
Date:                Thu, 14 Jul 2016   Prob (F-statistic):          4.43e-185
Time:                        07:42:11   Log-Likelihood:            -3.6082e+06
No. Observations:             1784029   AIC:                         7.216e+06
Df Residuals:                 1784027   BIC:                         7.216e+06
Df Model:                           1                                         
==============================================================================
                 coef    std err          t      P>|t|      [95.0% Conf. Int.]
------------------------------------------------------------------------------
const          0.0026      0.001      1.877      0.060        -0.000     0.005
None           0.0025    8.6e-05     29.017      0.000         0.002     0.003
==============================================================================
Omnibus:                   439920.805   Durbin-Watson:                   0.344
Prob(Omnibus):                  0.000   Jarque-Bera (JB):         23757886.879
Skew:                           0.310   Prob(JB):                         0.00
Kurtosis:                      20.867   Cond. No.                         16.0
==============================================================================

[OutSample R_SQUARE: 0.000128]



---------------mywindow: 24000 ----------------------



--------------------- 50 ----------------------
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                   last   R-squared:                       0.000
Model:                            OLS   Adj. R-squared:                  0.000
Method:                 Least Squares   F-statistic:                     475.2
Date:                Thu, 14 Jul 2016   Prob (F-statistic):          2.44e-105
Time:                        07:42:15   Log-Likelihood:            -3.5825e+06
No. Observations:             1770029   AIC:                         7.165e+06
Df Residuals:                 1770027   BIC:                         7.165e+06
Df Model:                           1                                         
==============================================================================
                 coef    std err          t      P>|t|      [95.0% Conf. Int.]
------------------------------------------------------------------------------
const          0.0018      0.001      1.324      0.185        -0.001     0.005
None           0.0012   5.67e-05     21.799      0.000         0.001     0.001
==============================================================================
Omnibus:                   435736.170   Durbin-Watson:                   0.344
Prob(Omnibus):                  0.000   Jarque-Bera (JB):         23563592.016
Skew:                           0.306   Prob(JB):                         0.00
Kurtosis:                      20.864   Cond. No.                         24.4
==============================================================================

[OutSample R_SQUARE: 0.000081]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>
</div>
</div>
</div>
</div>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>

            </div><!-- /.entry-content -->
			
			
			<ul style="float:right;">
			</ul>
			
			


        </div><!-- /.eleven.columns -->
        
<div class="three columns">

<div class="sidebarbg">
	<h4>Pages</h4>
	<ul>
	</ul>
</div>

<div class="sidebarbg">
<h4>Categories</h4>
	<ul>
			<li><a href="/category/about-me.html">About Me</a></li>
			<li><a href="/category/private.html">Private</a></li>
			<li><a href="/category/quanttrading.html">QuantTrading</a></li>
			<li><a href="/category/test.html">test</a></li>
	</ul>
</div>

<div class="sidebarbg">
	<h4>Tags</h4>
		<ul>
		</ul>
</div>


<div class="social sidebarbg">
	<nav class="widget">
	  <h4>Social</h4>
	  <ul>
		<li><a target="_blank" href="http://www.linkedin.com/in/bingnliu/en">LinkedIn</a></li>
		<li><a target="_blank" href="#">Another social link</a></li>
	  </ul>
	</nav>
</div>

<nav class="widget sidebarbg">
  <h4>Links</h4>
  <ul>
	<li><a target="_blank" href="http://getpelican.com/">Pelican</a></li>
	<li><a target="_blank" href="http://www.quantstart.com">QuantStart</a></li>
	<li><a target="_blank" href="http://www.quantopian.com/">Quantopian</a></li>
  </ul>
</nav>

</div> </div><!-- /.row -->


</section>

       </div><!-- /.row -->
    </div><!-- /.container -->


       <div class="container.nopad bg">

    
        <footer id="credits" class="row">
          <div class="seven columns left-center">
                   <address id="about" class="vcard body" style="margin-left:110px;margin-top:-25px">
					A junior in Physics, focusing on quant trading.<br/>
					Email: brillliantz@outlook.com<br/>
					Powered by Pelican+GitHub Pages。
				   </address>
          </div>


          <div class="seven columns">
            <div class="row">
              <ul class="socbtns">

                <li><div class="btn primary"><a href="https://github.com/brillliantz" target="_blank">Github</a></div></li>

                <li><div class="btn twitter"><a href="http://twitter.com" target="_blank">Twitter</a></div></li>

                <li><div class="btn facebook"><a href="http://www.facebook.com" target="_blank">Facebook</a></div></li>

                <li><div class="btn danger"><a href="https://www.linkedin.com/in/bingnliu/en" target="_blank">LinkedIn</a></div></li>

              </ul>
            </div>
          </div>
        </footer>

    </div>


  <script src="/theme/js/libs/jquery-1.9.1.min.js"></script>
  <script src="/theme/js/libs/gumby.min.js"></script>
  <script src="/theme/js/plugins.js"></script>
	<script>
	(function() {
		var $backToTopTxt = "返回顶部", $backToTopEle = $('<div class="backToTop"></div>').appendTo($("body"))
			.text($backToTopTxt).attr("title", $backToTopTxt).click(function() {
				$("html, body").animate({ scrollTop: 0 }, 120);
		}), $backToTopFun = function() {
			var st = $(document).scrollTop(), winh = $(window).height();
			(st > 0)? $backToTopEle.show(): $backToTopEle.hide();
			//IE6下的定位
			if (!window.XMLHttpRequest) {
				$backToTopEle.css("top", st + winh - 166);
			}
		};
		$(window).bind("scroll", $backToTopFun);
		$(function() { $backToTopFun(); });
	})();
	</script>
</body>
</html>